import{y as $}from"./index-client.DporfydE.js";function X(l,n,x){var b=l.__className,a=q(n,x);$&&l.getAttribute("class")===a?l.__className=a:(b!==a||$&&l.getAttribute("class")!==a)&&(a===""?l.removeAttribute("class"):l.setAttribute("class",a),l.__className=a)}function Y(l,n,x){var b=l.__className,a=q(n,x);$&&l.className===a?l.__className=a:(b!==a||$&&l.className!==a)&&(n==null&&!x?l.removeAttribute("class"):l.className=a,l.__className=a)}function q(l,n){return(l??"")+(n?" "+n:"")}function Z(l,n,x){if(x){if(l.classList.contains(n))return;l.classList.add(n)}else{if(!l.classList.contains(n))return;l.classList.remove(n)}}var U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V={exports:{}};(function(l,n){(function(){function x(a,A){var z="\\u0000\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF",O=z+"\\u005B\\u005C\\u005D\\u007B\\u007D\\u003A",N=new RegExp(`.*((\r|
)+)`),L=new RegExp("^\\s*([^"+O+`]+)[ 	\r]*:[ 	\r]*(.*(?:
|\r|$))`),m=new RegExp(`^\\s*:[ 	\r]*(endskip|ignore|skip|end).*?(
|\r|$)`,"i"),C=new RegExp(`^\\s*\\*[ 	\r]*(.*(?:
|\r|$))`),K=new RegExp("^\\s*(\\[|\\{)[ 	\r]*([+.]*)[ 	\r]*([^"+O+`]*)[ 	\r]*(?:\\]|\\}).*?(
|\r|$)`),w={},c=w,t=[],r=void 0,p=null,v=null,y="",E=!1,A=A||{};for(A.comments!==!0&&(A.comments=!1);a;){var f;m.exec(a)?(f=m.exec(a),M(f[1].toLowerCase())):!E&&L.exec(a)&&(!r||r.arrayType!=="simple")?(f=L.exec(a),H(f[1],f[2]||"")):!E&&C.exec(a)&&r&&r.array&&r.arrayType!=="complex"&&r.arrayType!=="freeform"&&r.flags.indexOf("+")<0?(f=C.exec(a),J(f[1])):!E&&K.exec(a)?(f=K.exec(a),Q(f[1],f[2],f[3])):N.exec(a)?(f=N.exec(a),j(f[0])):(j(a),a=""),f&&(a=a.substring(f[0].length))}function H(e,i){o(),D(e),r&&r.flags.indexOf("+")>-1&&(e="value"),v=e,y=i,F(e,{replace:!0})}function J(e){o(),r.arrayType=r.arrayType||"simple",r.array.push(""),v=r.array,y=e,F(r.array,{replace:!0})}function M(e){if(E&&!(e==="endskip"||e==="ignore"))return o();switch(e){case"end":v&&F(v,{replace:!1});return;case"ignore":a="";break;case"skip":E=!0;break;case"endskip":E=!1;break}o()}function Q(e,i,d){if(o(),d==""){var g=t.pop();c=(g?g.scope:w)||w,r=t[t.length-1]}else if(e==="["||e==="{"){var u=!1,s=w;if(i.indexOf(".")>-1?(D(d),u=!0,r&&(s=c)):(c=w,t=[]),r&&r.flags.indexOf("+")>-1)var _=d;else{for(var R=d.split("."),T=0;T<R.length-1;T++)s=s[R[T]]=s[R[T]]||{};var _=R[R.length-1]}var h={array:null,arrayType:null,arrayFirstKey:null,flags:i,scope:c},G=r&&r.flags.indexOf("+")>-1&&i.indexOf(".")>-1;e=="["?(G&&(_="value"),h.array=s[_]=[],i.indexOf("+")>-1&&(h.arrayType="freeform"),u?t.push(h):t=[h],r=t[t.length-1]):e=="{"&&(u?(G?c=c.value={}:c=s[_]=s={},t.push(h)):(c=s[_]=typeof s[_]=="object"?s[_]:{},t=[h]),r=t[t.length-1])}}function j(e){r&&r.flags.indexOf("+")>-1&&e.match(/[^\n\r\s]/)?r.array.push({type:"text",value:e.replace(/(^\s*)|(\s*$)/g,"")}):y+=a.substring(0,e.length)}function D(e){if(r&&r.array){if(r.arrayType=r.arrayType||"complex",r.arrayType==="simple")return;(r.arrayFirstKey===null||r.arrayFirstKey===e)&&r.array.push(c={}),r.flags.indexOf("+")>-1?c.type=e:r.arrayFirstKey=r.arrayFirstKey||e}}function P(e,i){return A.comments&&(e=e.replace(/(?:^\\)?\[[^\[\]\n\r]*\](?!\])/mg,""),e=e.replace(/\[\[([^\[\]\n\r]*)\]\]/g,"[$1]")),i=="append"&&(e=e.replace(new RegExp("^(\\s*)\\\\","gm"),"$1")),e}function o(){var e=y+"";return y="",v=null,e}function F(e,i){i=i||{};var d=v,g=o();if(i.replace?(g=P(g,"replace").replace(new RegExp("^\\s*"),""),y=new RegExp("\\s*$").exec(g)[0],v=d):g=P(g,"append"),typeof e=="object")i.replace&&(e[e.length-1]=""),e[e.length-1]+=g.replace(new RegExp("\\s*$"),"");else{var u=e.split(".");p=c;for(var s=0;s<u.length-1;s++)typeof p[u[s]]=="string"&&(p[u[s]]={}),p=p[u[s]]=p[u[s]]||{};i.replace&&(p[u[u.length-1]]=""),p[u[u.length-1]]+=g.replace(new RegExp("\\s*$"),"")}}return o(),w}var b={load:x};l.exports&&(n=l.exports=b),n.archieml=b}).call(U)})(V,V.exports);export{X as a,Y as s,Z as t};
