import{g as je,R as ze,D as Ue,C as Qt,e as pt,s as e,p as Ze,i as vt,c as Ie,m as ot,d as it}from"../chunks/Divider.BSxawyL7.js";import{b as Yt,f as Fe,S as Ke,N as ta}from"../chunks/linear.BOKjAvd1.js";import{m as zt,p as ea,h as aa}from"../chunks/index.BiA4FSSe.js";import{e as ra}from"../chunks/extent.Ccx1MofX.js";import{d as na,a as f,b as gt,t as ne,c as Dt,i as at,s as X,n as G}from"../chunks/disclose-version.CaeJoITO.js";import{i as sa}from"../chunks/legacy.BBHQfapU.js";import{p as oa,g as t,l,a as ia,f as q,b as ca,t as T,s as g,d as n,m as d,n as se,c as S,r as $,w as I,o as oe}from"../chunks/index-client.DporfydE.js";import{h as Me,I as Se}from"../chunks/index.cii_txJh.js";import{b as Le}from"../chunks/window.g_xjwp-r.js";import{p as la,s as da,a as pa}from"../chunks/props.fQtv6Drh.js";import{D as Ee,a as We,b as Ce,c as De}from"../chunks/DropdownToggle.BYdILiT7.js";import{I as Oe,A as Re}from"../chunks/index.BFcyRvbB.js";/* empty css                                                           *//* empty css                                                       */import"../chunks/archieml.DKUuhgIA.js";import{P as Ae}from"../chunks/RelatedContent.svelte_svelte_type_style_lang.BqDJM45u.js";/* empty css                                                             *//* empty css                                                             */import{I as va}from"../chunks/InteractiveTitle.DFZI9SzT.js";import{s as ga}from"../chunks/pow.Caf1UYiD.js";import{s as Ne}from"../chunks/sum.CB6J5KXz.js";import{p as ua}from"../chunks/band.BOkEAQkA.js";async function fa({fetch:_t}){const Q="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/migracion-interna/migracion_comunas.json";try{const B=await _t(Q);if(!B.ok)throw new Error(`HTTP error! status: ${B.status}`);const Y=await B.json(),J=[.1,5],D=Yt(Y.links===void 0?[]:[zt(Y.links,M=>M.value),5e3],J).clamp(!0);Y.links.forEach(M=>{M.color=je,M.opacity=.2,M.strokeWidth=D(M.value)});const rt=Y.nodes.children.flatMap(M=>M.children),a=ra(rt,M=>M.net);return{data:Y,rExtent:a}}catch(B){return console.error("Error en load():",B),{data:[],rExtent:[]}}}const gr=Object.freeze(Object.defineProperty({__proto__:null,load:fa},Symbol.toStringTag,{value:"Module"}));var _a=(_t,Q,B,Y,J,D,rt)=>{n(Q,""),n(B,!1),n(Y,void 0),n(J,void 0),n(D,!1),t(rt)()},ma=gt('<div class="close svelte-pxdv50" style="display: inline-block"><!></div>'),xa=gt("<!> <!> <!>",1),ha=gt('<span class="menu-label svelte-pxdv50">Elige una comuna</span> <!>',1),$a=(_t,Q,B,Y,J,D)=>{n(Q,""),n(B,!1),n(Y,void 0),t(J)(t(D))},ya=gt('<div class="close svelte-pxdv50" style="display: inline-block"><!></div>'),wa=gt("<!> <!> <!>",1),ba=gt('<span class="menu-label svelte-pxdv50">Elige otra comuna</span> <!>',1),ka=gt("<!> <!> <!> <!>",1),Pa=G("<g><text> </text><text> </text></g>"),za=G("<path></path>"),Ia=G("<path></path>"),Ma=G('<g fill="none"></g><g fill="none"></g>',1),Sa=G("<tspan> </tspan>"),La=G("<text></text>"),Ea=G("<g><circle></circle><!></g>"),Wa=G("<g></g>"),Ca=G('<text><tspan>Se fueron</tspan> <tspan>Llegaron</tspan> <tspan>Neto</tspan></text><text><tspan> </tspan> <tspan dy="1.2em"> </tspan> <tspan dy="1.2em"> </tspan></text>',1),Da=G('<text><tspan>Se fueron</tspan> <tspan dy="1.2em">Llegaron</tspan> <tspan dy="1.2em">Neto</tspan></text><text><tspan> </tspan> <tspan dy="1.2em"> </tspan> <tspan dy="1.2em"> </tspan></text>',1),Oa=G('<g><circle></circle><line class="svelte-pxdv50"></line><text> </text><!></g>'),Ra=G('<g><circle></circle><line class="svelte-pxdv50"></line><text> </text></g>'),Aa=(_t,Q,B,Y,J,D,rt)=>{t(Q)||(t(B)===!0?n(Y,t(J)):n(D,t(J)),t(rt)(t(J)))},Na=(_t,Q,B,Y,J,D)=>{t(Q)||(t(B)===!1&&n(B,!0),n(Y,t(J)),n(D,void 0))},ja=G("<circle></circle>"),Ba=G("<g></g>"),Ha=G("<g></g>"),Ta=gt("<div><svg><!><!><!><!><!><!></svg></div>"),Ya=gt("<!> <!> <!> <!> <!> <!> <!> <!>",1);function ur(_t,Q){oa(Q,!1);const[B,Y]=da(),J=()=>pa(Ze,"$page",B),D=d(),rt=d(),a=d(),M=d(),R=d(),_=d(),Ot=d(),H=d(),Ut=d(),ie=d(),ce=d(),qt=d(),K=d(),Zt=d(),mt=d(),O=d(),xt=d(),tt=d(),ht=d(),A=d(),N=d(),Ft=d(),Kt=d(),te=d(),le=d(),de=d(),Gt=d(),Vt=d(),$t=d(),u=d(),m=d(),U=d(),Rt=d(),pe=d(),ve=d(),ge=d(),At=d(),Nt=d(),et=d(),nt=d(),ue=d(),fe=d(),yt=d(),Be="1fMX5PRdS_32IBe-nZGkmuuzx0ObPJY1ORLDuBr8RHIQ",_e=J().data.interactives.filter(r=>r.gDocId===Be)[0],It=_e.content;let Mt=la(Q,"data",8);const ut=Fe({thousands:".",decimal:",",grouping:[3]}).format(","),ee=60,He=[t(a)?6:2,15],Te=r=>ea().size(t(ce)).radius(p=>t(ie)(p.value)).padding(3)(aa(r).sum(p=>p.net).sort((p,w)=>w.net-p.net)),me=[.1,5],Ye=[.05,1];l(()=>{},()=>{n(D,0)}),l(()=>{},()=>{n(rt,0)}),l(()=>(t(rt),t(D)),()=>{n(a,t(rt)>t(D))}),l(()=>(t(a),t(D)),()=>{n(M,t(a)?.8*t(D):600)}),l(()=>(t(a),t(D)),()=>{n(R,t(a)?.8*1e3*t(D)/450:1e3)}),l(()=>t(a),()=>{n(_,t(a)?40:70)}),l(()=>oe(Mt()),()=>{var r,p;n(Ot,(p=(r=Mt())==null?void 0:r.data)==null?void 0:p.nodes)}),l(()=>oe(Mt()),()=>{var r,p;n(H,(p=(r=Mt())==null?void 0:r.data)==null?void 0:p.links)}),l(()=>oe(Mt()),()=>{var r;n(Ut,(r=Mt())==null?void 0:r.rExtent)}),l(()=>t(Ut),()=>{n(ie,ga(t(Ut),He))}),l(()=>(t(R),t(M)),()=>{n(ce,[t(R)-2,t(M)-2])}),l(()=>t(Ot),()=>{n(qt,t(Ot)===void 0?[]:Te(t(Ot)))}),l(()=>t(qt),()=>{n(K,t(qt).length===0?[]:t(qt).descendants().filter(r=>r.height==1))}),l(()=>(t(K),t(R),Ne),()=>{n(Zt,t(K).length===0?t(R)/16:Ne(t(K),r=>r.r*2+ee))}),l(()=>t(M),()=>{n(mt,t(M)/2)}),l(()=>(t(Zt),t(R)),()=>{n(O,Yt().domain([0,t(Zt)]).range([0,t(R)]))}),l(()=>(t(K),t(R)),()=>{var r;n(xt,ua(t(K).length===0?[]:(r=t(K))==null?void 0:r.map(p=>p.data.name),[ee,t(R)-ee]).padding(.5))}),l(()=>t(K),()=>{n(tt,t(K).flatMap(r=>r.children))}),l(()=>t(tt),()=>{n(ht,t(tt).map(r=>r.data.name).sort())}),l(()=>(t(tt),t(xt),t(O)),()=>{var r;n(A,new Map(t(tt)===void 0?[]:(r=t(tt))==null?void 0:r.map(p=>[p.data.name,t(xt)(p.parent.data.name)+t(O)(p.x-p.parent.x)])))}),l(()=>(t(tt),t(mt),t(O)),()=>{var r;n(N,new Map(t(tt)===void 0?[]:(r=t(tt))==null?void 0:r.map(p=>[p.data.name,t(mt)+t(O)(p.y-p.parent.y)])))}),l(()=>(t(H),zt),()=>{n(Ft,Yt(t(H)===void 0?[]:[zt(t(H),r=>r.value),5e3],me).clamp(!0))}),l(()=>(t(H),zt),()=>{n(Kt,Yt(t(H)===void 0?[]:[zt(t(H),r=>r.value),5e3],[1,me[1]]).clamp(!0))}),l(()=>(t(H),zt),()=>{n(te,Yt(t(H)===void 0?[]:[zt(t(H),r=>r.value),5e3],Ye))}),l(()=>(t(a),t(N),t(A)),()=>{n(le,r=>{const p=t(a)?t(N).get(r.source):t(A).get(r.source),w=t(a)?t(N).get(r.target):t(A).get(r.target),C=t(a)?t(A).get(r.source):t(N).get(r.source),x=t(a)?t(A).get(r.target):t(N).get(r.target),Z=Math.abs(w-p)/2;return`M${p},${C}A${Z},${t(a)?3/2*Z:2/3*Z} 0,0,1 ${w},${x}`})}),l(()=>(t(a),t(N),t(A)),()=>{n(de,r=>{const p=t(a)?t(N).get(r.source):t(A).get(r.source),w=t(a)?t(N).get(r.target):t(A).get(r.target),C=t(a)?t(A).get(r.source):t(N).get(r.source),x=t(a)?t(A).get(r.target):t(N).get(r.target),Z=Math.abs(w-p)/2;return`M${w},${x}A${Z},${t(a)?3/2*Z:2/3*Z} 0,0,0 ${p},${C}`})}),l(()=>{},()=>{n(Gt,[])}),l(()=>{},()=>{n(Vt,[])}),l(()=>{},()=>{n($t,[])}),l(()=>{},()=>{n(u,void 0)}),l(()=>{},()=>{n(m,void 0)}),l(()=>{},()=>{n(U,!1)}),l(()=>(t(H),t(Ft)),()=>{n(pe,()=>{var r;n(u,void 0),(r=t(H))==null||r.forEach(p=>{p.color=je,p.opacity=.2,p.strokeWidth=t(Ft)(p.value)}),n(Gt,[]),n(Vt,[])})}),l(()=>(t($t),t(m),t(H),t(u),t(U),t(te),t(Kt)),()=>{n(Rt,r=>{var w,C;const p=r.data.name;n($t,t(m)!==void 0?(w=t(H))==null?void 0:w.filter(x=>x.source===t(u).data.name&&x.target===t(m).data.name||x.source===t(m).data.name&&x.target===t(u).data.name):(C=t(H))==null?void 0:C.filter(x=>x.source===p||x.target===p)),t($t).forEach(x=>{x.color=t(U)===!1?x.source===p?ot:it:x.source===t(u).data.name?ot:it,x.opacity=t(m)!==void 0?1:t(te)(x.value),x.strokeWidth=t(Kt)(x.value)}),n(Gt,t($t).filter(x=>x.direction==="south")),n(Vt,t($t).filter(x=>x.direction==="north"))})}),l(()=>{},()=>{n(ve,r=>{n(et,r.target.value)})}),l(()=>{},()=>{n(ge,r=>{n(nt,r.target.value)})}),l(()=>{},()=>{n(At,!1)}),l(()=>{},()=>{n(Nt,!1)}),l(()=>{},()=>{n(et,"")}),l(()=>{},()=>{n(nt,"")}),l(()=>(t(et),t(ht)),()=>{n(ue,t(et)===""?t(ht):t(ht).filter(r=>r.toLowerCase().includes(t(et).toLowerCase())))}),l(()=>(t(U),t(nt),t(ht),t(u)),()=>{n(fe,t(U)===!1?[]:t(nt)!==""?t(ht).filter(r=>r!==t(u).data.name&&r.toLowerCase().includes(t(nt).toLowerCase())):t(ht).filter(r=>r!==t(u).data.name))}),l(()=>t(u),()=>{n(yt,(t(u)===void 0,194))}),ia(),sa();var xe=Ya(),he=q(xe);va(he,{children:(r,p)=>{se();var w=ne();T(()=>X(w,It.head.interactiveHeadline)),f(r,w)},$$slots:{default:!0}});var $e=g(he,2);Ae($e,{children:(r,p)=>{var w=Dt(),C=q(w);Me(C,()=>It.interactiveParagraph.text,!1,!1),f(r,w)},$$slots:{default:!0}});var ye=g($e,2);Ae(ye,{children:(r,p)=>{var w=Dt(),C=q(w);Me(C,()=>It.interactiveParagraph.text2,!1,!1),f(r,w)},$$slots:{default:!0}});var we=g(ye,2);ze(we,{children:(r,p)=>{var w=ka(),C=q(w);Qt(C,{xs:"0",md:"2",lg:"2",xl:"3"});var x=g(C,2);Qt(x,{xs:"12",md:"4",lg:"4",xl:"3",children:(jt,Jt)=>{var wt=ha(),St=g(q(wt),2);Ee(St,{get isOpen(){return t(At)},toggle:()=>n(At,!t(At)),children:(Bt,bt)=>{var kt=xa(),Lt=q(kt);{var Ht=i=>{var c=ma();c.__click=[_a,et,At,u,m,U,pe];var o=S(c);Se(o,{src:Re}),$(c),f(i,c)};at(Lt,i=>{(t(U)===!0||t(et)!=="")&&i(Ht)})}var b=g(Lt,2);const h=I(()=>`width: ${t(yt)}px;`);We(b,{tag:"div",class:"d-inline-block dropdown-toggle",get style(){return t(h)},children:(i,c)=>{const o=I(()=>`display: inline-block; background-color: transparent; margin-right: -30px; width: ${t(yt)}px;`),P=I(()=>t(U)===!0?t(u).data.name:"");Oe(i,{get style(){return t(o)},get placeholder(){return t(P)},get value(){return t(et)},set value(z){n(et,z)},$$events:{input(...z){var y;(y=t(ve))==null||y.apply(this,z)}},$$legacy:!0})},$$slots:{default:!0}});var s=g(b,2);const v=I(()=>`width: ${t(yt)}px; max-height: 400px; overflow-y: scroll;`);Ce(s,{get style(){return t(v)},children:(i,c)=>{var o=Dt(),P=q(o);pt(P,1,()=>t(ue),vt,(z,y)=>{De(z,{onclick:()=>{const E=t(tt).filter(j=>j.data.name===t(y))[0];n(et,""),n(U,!0),n(u,E),n(m,void 0),t(Rt)(E)},children:(E,j)=>{se();var L=ne();T(()=>X(L,t(y))),f(E,L)},$$slots:{default:!0}})}),f(i,o)},$$slots:{default:!0}}),f(Bt,kt)},$$slots:{default:!0}}),f(jt,wt)},$$slots:{default:!0}});var Z=g(x,2);Qt(Z,{xs:"12",md:"4",lg:"4",xl:"3",children:(jt,Jt)=>{var wt=Dt(),St=q(wt);{var Bt=bt=>{var kt=ba(),Lt=g(q(kt),2);Ee(Lt,{get isOpen(){return t(Nt)},toggle:()=>n(Nt,!t(Nt)),children:(Ht,b)=>{var h=wa(),s=q(h);{var v=z=>{var y=ya();y.__click=[$a,nt,Nt,m,Rt,u];var E=S(y);Se(E,{src:Re}),$(y),f(z,y)};at(s,z=>{(t(m)!==void 0||t(nt)!=="")&&z(v)})}var i=g(s,2);const c=I(()=>`width: ${t(yt)}px;`);We(i,{tag:"div",class:"d-inline-block dropdown-toggle",get style(){return t(c)},children:(z,y)=>{const E=I(()=>`display: inline-block; background-color: transparent; margin-right: -30px; width: ${t(yt)}px;`),j=I(()=>t(m)===void 0?"":t(m).data.name);Oe(z,{get style(){return t(E)},get placeholder(){return t(j)},get value(){return t(nt)},set value(L){n(nt,L)},$$events:{input(...L){var k;(k=t(ge))==null||k.apply(this,L)}},$$legacy:!0})},$$slots:{default:!0}});var o=g(i,2);const P=I(()=>`width: ${t(yt)}px; max-height: 400px; overflow-y: scroll;`);Ce(o,{get style(){return t(P)},children:(z,y)=>{var E=Dt(),j=q(E);pt(j,1,()=>t(fe),vt,(L,k)=>{De(L,{onclick:()=>{const F=t(tt).filter(ct=>ct.data.name===t(k))[0];n(nt,""),n(m,F),t(Rt)(F)},children:(F,ct)=>{se();var Pt=ne();T(()=>X(Pt,t(k))),f(F,Pt)},$$slots:{default:!0}})}),f(z,E)},$$slots:{default:!0}}),f(Ht,h)},$$slots:{default:!0}}),f(bt,kt)};at(St,bt=>{(t(U)===!0||t(et)!=="")&&bt(Bt)})}f(jt,wt)},$$slots:{default:!0}});var Xt=g(Z,2);Qt(Xt,{xs:"0",md:"2",lg:"4",xl:"3"}),f(r,w)},$$slots:{default:!0}});var be=g(we,2);ze(be,{children:(r,p)=>{var w=Ta();e(w,"style","width: 100%; text-align: center;");var C=S(w);e(C,"margin","0 auto");var x=S(C);{var Z=b=>{var h=Pa();e(h,"font-weight",400),e(h,"font-size",14);var s=S(h);e(s,"fill",Ie),e(s,"font-size",12);var v=S(s,!0);$(s);var i=g(s);e(i,"fill",Ie),e(i,"font-size",12);var c=S(i,!0);$(i),$(h),T(()=>{e(s,"x",t(a)?t(M):t(R)*.5),e(s,"y",t(a)?t(R)*.1:t(M)*.1),e(s,"text-anchor",t(a)?"end":"middle"),X(v,t(a)?"Al sur ↓":"Migración al sur →"),e(i,"x",t(a)?0:t(R)*.5),e(i,"y",t(a)?t(R)*.1:t(M)*.9),e(i,"text-anchor",t(a)?"begin":"middle"),X(c,t(a)?"↑ Al norte":"← Migración al norte")}),f(b,h)};at(x,b=>{t(u)!==void 0&&b(Z)})}var Xt=g(x);{var jt=b=>{var h=Ma(),s=q(h);pt(s,5,()=>t(Gt),vt,(i,c)=>{var o=za();T(P=>{e(o,"d",P),e(o,"stroke-width",t(c).strokeWidth),e(o,"stroke-opacity",t(c).opacity),e(o,"stroke",t(c).color)},[()=>t(le)(t(c))],I),f(i,o)}),$(s);var v=g(s);pt(v,5,()=>t(Vt),vt,(i,c)=>{var o=Ia();T(P=>{e(o,"d",P),e(o,"stroke-width",t(c).strokeWidth),e(o,"stroke-opacity",t(c).opacity),e(o,"stroke",t(c).color)},[()=>t(de)(t(c))],I),f(i,o)}),$(v),f(b,h)};at(Xt,b=>{t(H)!==void 0&&b(jt)})}var Jt=g(Xt);{var wt=b=>{var h=Wa();pt(h,5,()=>t(K),vt,(s,v)=>{var i=Ea(),c=S(i);e(c,"cx",0),e(c,"cy",0),e(c,"fill","none"),e(c,"stroke","black"),e(c,"stroke-width",.5);var o=g(c);{var P=z=>{var y=La();e(y,"x",0),e(y,"text-anchor","middle"),e(y,"font-size",9),pt(y,5,()=>t(v).data.name.split(" "),vt,(E,j)=>{var L=Sa();e(L,"x",0),e(L,"dy","1em");var k=S(L,!0);$(L),T(()=>X(k,t(j))),f(E,L)}),$(y),T(E=>e(y,"y",E),[()=>t(O)(t(v).r)+5],I),f(z,y)};at(o,z=>{t(a)===!1&&z(P)})}$(i),T((z,y)=>{e(i,"transform",z),e(c,"r",y)},[()=>`translate(${t(a)?t(mt):t(xt)(t(v).data.name)},${t(a)?t(xt)(t(v).data.name):t(mt)})`,()=>t(O)(t(v).r)],I),f(s,i)}),$(h),f(b,h)};at(Jt,b=>{t(u)===void 0&&b(wt)})}var St=g(Jt);{var Bt=b=>{var h=Oa();const s=I(()=>t(a)?t(N).get(t(u).data.name):t(A).get(t(u).data.name)),v=I(()=>t(a)?t(A).get(t(u).data.name):t(N).get(t(u).data.name));var i=S(h);e(i,"fill","transparent"),e(i,"stroke","black"),e(i,"stroke-width",1.5);var c=g(i),o=g(c);e(o,"font-weight",600);var P=S(o,!0);$(o);var z=g(o);{var y=j=>{var L=Ca(),k=q(L);e(k,"text-anchor","start");var F=S(k);e(F,"fill",ot);var ct=g(F,2);e(ct,"dy","1.2em"),e(ct,"fill",it);var Pt=g(ct,2);e(Pt,"dy","1.2em"),$(k);var W=g(k);e(W,"text-anchor","end");var st=S(W);e(st,"text-anchor","right"),e(st,"fill",ot);var Et=S(st,!0);$(st);var V=g(st,2);e(V,"text-anchor","right"),e(V,"fill",it);var Wt=S(V,!0);$(V);var lt=g(V,2);e(lt,"text-anchor","right");var ae=S(lt,!0);$(lt),$(W),T((ft,dt,re)=>{e(k,"x",t(a)?t(s)-t(_)-100:t(s)-60),e(k,"y",t(a)?t(v):t(v)+t(_)+44),e(k,"font-size",t(a)?11:14),e(F,"x",t(a)?t(s)-t(_)-100:t(s)-60),e(F,"dy",t(a)?"1.6em":"0.1em"),e(ct,"x",t(a)?t(s)-t(_)-100:t(s)-60),e(Pt,"x",t(a)?t(s)-t(_)-100:t(s)-60),e(W,"x",t(a)?t(s)-t(_)-6:t(s)+60),e(W,"y",t(a)?t(v):t(v)+t(_)+44),e(W,"font-size",t(a)?11:14),e(st,"x",t(a)?t(s)-t(_)-6:t(s)+60),e(st,"dy",t(a)?"1.6em":"0.1em"),X(Et,ft),e(V,"x",t(a)?t(s)-t(_)-6:t(s)+60),X(Wt,dt),e(lt,"x",t(a)?t(s)-t(_)-6:t(s)+60),e(lt,"fill",t(u).data.direction==="in"?it:ot),X(ae,re)},[()=>`${ut(t(u).data.from)}`,()=>`${ut(t(u).data.to)}`,()=>`${t(u).data.direction==="in"?"+":"-"}${ut(t(u).data.net)}`],I),f(j,L)},E=j=>{var L=Dt();const k=I(()=>t(a)?t(N).get(t(m).data.name):t(A).get(t(m).data.name)),F=I(()=>t(a)?t(A).get(t(m).data.name):t(N).get(t(m).data.name));var ct=q(L);pt(ct,1,()=>t($t),vt,(Pt,W)=>{var st=Da();const Et=I(()=>t(W).source===t(u).data.name);var V=q(st);e(V,"font-size",14),e(V,"text-anchor","start");var Wt=S(V);e(Wt,"fill",ot);var lt=g(Wt,2);e(lt,"fill",it);var ae=g(lt,2);$(V);var ft=g(V);e(ft,"font-size",14),e(ft,"text-anchor","end");var dt=S(ft);e(dt,"text-anchor","right"),e(dt,"fill",ot);var re=S(dt,!0);$(dt);var Ct=g(dt,2);e(Ct,"text-anchor","right"),e(Ct,"fill",it);var Ge=S(Ct,!0);$(Ct);var Tt=g(Ct,2);e(Tt,"text-anchor","right");var Ve=S(Tt,!0);$(Tt),$(ft),T((Xe,Je,Qe)=>{e(V,"x",t(a)?t(k)+t(_)+6:t(s)-60),e(V,"y",t(a)?t(F):t(v)+t(_)+44),e(Wt,"x",t(a)?t(k)+t(_)+6:t(s)-60),e(Wt,"dy",t(a)?"1.6em":"0.1em"),e(lt,"x",t(a)?t(k)+t(_)+6:t(s)-60),e(ae,"x",t(a)?t(k)+t(_)+6:t(s)-60),e(ft,"x",t(a)?t(k)+t(_)+100:t(s)+60),e(ft,"y",t(a)?t(F):t(v)+t(_)+44),e(dt,"x",t(a)?t(k)+t(_)+100:t(s)+60),e(dt,"dy",t(a)?"1.6em":"0.1em"),X(re,Xe),e(Ct,"x",t(a)?t(k)+t(_)+100:t(s)+60),X(Ge,Je),e(Tt,"x",t(a)?t(k)+t(_)+100:t(s)+60),e(Tt,"fill",t(Et)?t(W).s2t>t(W).t2s?ot:it:t(W).s2t>t(W).t2s?it:ot),X(Ve,Qe)},[()=>`${t(Et)?ut(t(W).s2t):ut(t(W).t2s)}`,()=>`${t(Et)?ut(t(W).t2s):ut(t(W).s2t)}`,()=>`${t(Et)?t(W).s2t>t(W).t2s?"-":"+":t(W).s2t>t(W).t2s?"+":"-"}${ut(t(W).value)}`],I),f(Pt,st)}),f(j,L)};at(z,j=>{t(m)===void 0?j(y):j(E,!1)})}$(h),T((j,L,k)=>{e(i,"cx",t(s)),e(i,"cy",t(v)),e(i,"r",j),e(c,"x1",t(a)?t(s)-t(_):t(s)),e(c,"y1",L),e(c,"x2",k),e(c,"y2",t(a)?t(v):t(v)+t(_)),e(o,"x",t(a)?t(s)-t(_)-6:t(s)),e(o,"y",t(a)?t(v):t(v)+t(_)+24),e(o,"font-size",t(a)?12:16),e(o,"text-anchor",t(a)?"end":"middle"),X(P,t(u).data.name)},[()=>t(O)(t(u).r),()=>t(a)?t(v):t(v)+t(O)(t(u).r),()=>t(a)?t(s)-t(O)(t(u).r):t(s)],I),f(b,h)};at(St,b=>{t(u)!==void 0&&b(Bt)})}var bt=g(St);{var kt=b=>{var h=Ra();const s=I(()=>t(a)?t(N).get(t(m).data.name):t(A).get(t(m).data.name)),v=I(()=>t(a)?t(A).get(t(m).data.name):t(N).get(t(m).data.name));var i=S(h);e(i,"fill","transparent"),e(i,"stroke","black"),e(i,"stroke-width",1.5);var c=g(i),o=g(c);e(o,"font-weight",600);var P=S(o,!0);$(o),$(h),T((z,y,E)=>{e(i,"cx",t(s)),e(i,"cy",t(v)),e(i,"r",z),e(c,"x1",t(a)?t(s)+t(_):t(s)),e(c,"y1",y),e(c,"x2",E),e(c,"y2",t(a)?t(v):t(v)+t(_)/2),e(o,"x",t(a)?t(s)+t(_)+6:t(s)),e(o,"y",t(a)?t(v):t(v)+t(_)/2+24),e(o,"font-size",t(a)?12:16),e(o,"text-anchor",t(a)?"start":"middle"),X(P,t(m).data.name)},[()=>t(O)(t(m).r),()=>t(a)?t(v):t(v)+t(O)(t(m).r),()=>t(a)?t(s)+t(O)(t(m).r):t(s)],I),f(b,h)};at(bt,b=>{t(m)!==void 0&&b(kt)})}var Lt=g(bt);{var Ht=b=>{var h=Ha();pt(h,5,()=>t(K),vt,(s,v)=>{var i=Ba();pt(i,5,()=>t(v).children,vt,(c,o)=>{var P=ja();e(P,"stroke","white"),e(P,"stroke-width",.1),P.__mousemove=[Aa,a,U,m,o,u,Rt],P.__click=[Na,a,U,u,o,m],T((z,y,E)=>{e(P,"cx",z),e(P,"cy",y),e(P,"r",E),e(P,"fill",t(o).data.direction==="in"?it:ot)},[()=>t(a)?t(O)(t(o).y-t(o).parent.y):t(O)(t(o).x-t(o).parent.x),()=>t(a)?t(O)(t(o).x-t(o).parent.x):t(O)(t(o).y-t(o).parent.y),()=>t(O)(t(o).r)],I),f(c,P)}),$(i),T(c=>e(i,"transform",c),[()=>`translate(${t(a)?t(mt):t(xt)(t(v).data.name)},${t(a)?t(xt)(t(v).data.name):t(mt)})`],I),f(s,i)}),$(h),f(b,h)};at(Lt,b=>{t(Ot)!==void 0&&b(Ht)})}$(C),$(w),T(()=>{e(C,"width",t(a)?t(M):t(R)),e(C,"height",t(a)?t(R):t(M)),e(C,"viewBox",`0 0 ${t(a)?t(M):t(R)} ${t(a)?t(R):t(M)}`)}),f(r,w)},$$slots:{default:!0}});var ke=g(be,2);Ke(ke,{get route(){return _e.route},get text(){return It.share.text},get subject(){return It.share.subject}});var Pe=g(ke,2);Ue(Pe,{});var qe=g(Pe,2);ta(qe,{get notes(){return It.notes}}),Le("innerWidth",r=>n(D,r)),Le("innerHeight",r=>n(rt,r)),f(_t,xe),ca(),Y()}na(["click","mousemove"]);export{ur as component,gr as universal};
