import{c as Ma}from"../chunks/csv.BqGHGP1s.js";import{s as vt,a as M,b as ie,n as it,c as Et,i as xe,t as ka}from"../chunks/disclose-version.BZt-CqMr.js";import{i as Aa}from"../chunks/legacy.ChyV9QrR.js";import{p as Ja,l as N,a as Ga,f as J,t as G,w as U,g as t,b as Xa,m as R,c as C,r as S,s as p,d as k,o as Xt}from"../chunks/index-client.CAcRRAB1.js";import{s as e,e as ht,i as pt,c as Q,R as It,D as cn,p as dn,o as Jt,h as Kt,q as Ta}from"../chunks/Divider._rDtW3Is.js";import{h as zt}from"../chunks/index.uIpIJlBe.js";import{b as Da}from"../chunks/window.Dy_OPEiQ.js";import{p as Pe,s as hn,a as pn}from"../chunks/props.B-deTbKa.js";import{C as ce}from"../chunks/ChartWrapper.C5ayrWvr.js";import{H as vn}from"../chunks/SectionTitle.DJ9f2eQ7.js";import{P as Gt}from"../chunks/RelatedContent.svelte_svelte_type_style_lang.BR27XGEY.js";import{P as fe,R as gn}from"../chunks/RelatedContent.BQ7Axng5.js";import{S as _n,N as mn,f as $e}from"../chunks/linear.BFChDck6.js";import{e as Bt}from"../chunks/utils.BtjziJRB.js";import{p as xn,s as $n,m as Na}from"../chunks/sequential.CdfXYlIH.js";import{e as Ra}from"../chunks/extent.Ccx1MofX.js";import{m as wn}from"../chunks/min.D1slsF82.js";import{p as yn,b as Pn}from"../chunks/band.BrdOpu4U.js";class re{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const o=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=o[i],h=n+s,d=Math.abs(n)<Math.abs(s)?n-(h-s):s-(h-n);d&&(o[r++]=d),n=h}return o[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let o=this._n,r,i,s,h=0;if(o>0){for(h=n[--o];o>0&&(r=h,i=n[--o],h=r+i,s=i-(h-r),!s););o>0&&(s<0&&n[o-1]<0||s>0&&n[o-1]>0)&&(i=s*2,r=h+i,i==r-h&&(h=r))}return h}}function*Sn(a){for(const n of a)yield*n}function En(a){return Array.from(Sn(a))}async function zn({fetch:a}){const n="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/elecciones2025/analisis-resultados/histograms.json",o="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/elecciones2025/analisis-resultados/izq_diff.csv",r="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/elecciones2025/analisis-resultados/total_votos.csv",i="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/elecciones2025/analisis-resultados/antofagasta.geojson",s="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/elecciones2025/analisis-resultados/arica.geojson",h="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/elecciones2025/analisis-resultados/coquimbo.geojson",d="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/elecciones2025/analisis-resultados/santiago-sur.geojson",f="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/elecciones2025/analisis-resultados/rancagua.geojson",P="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/elecciones2025/analisis-resultados/puerto-montt.geojson",l="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/elecciones2025/analisis-resultados/los-angeles.geojson";try{const v=await a(n);if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const x=await v.json(),w=await a(o);if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);const c=Ma(await w.text());c.forEach(b=>{b.jara=+b.jara,b.izquierda=+b.izquierda,b.diff_izq=+b.diff_izq});const st=await a(r);if(!st.ok)throw new Error(`HTTP error! status: ${st.status}`);const at=Ma(await st.text());at.forEach(b=>{b.pdg=+b.pdg,b.total_votos=+b.total_votos,b.diff_izq=+b.diff_izq});const nt=await a(i);if(!nt.ok)throw new Error(`HTTP error! status: ${nt.status}`);const X=await nt.json(),H=await a(s);if(!H.ok)throw new Error(`HTTP error! status: ${H.status}`);const $=await H.json(),D=await a(h);if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const B=await D.json(),Z=await a(d);if(!Z.ok)throw new Error(`HTTP error! status: ${Z.status}`);const gt=await Z.json(),K=await a(f);if(!K.ok)throw new Error(`HTTP error! status: ${K.status}`);const qt=await K.json(),xt=await a(l);if(!xt.ok)throw new Error(`HTTP error! status: ${xt.status}`);const Pt=await xt.json(),dt=await a(P);if(!dt.ok)throw new Error(`HTTP error! status: ${dt.status}`);const bt=await dt.json();return{data:{histograms:x,diff:c.sort((b,L)=>L.diff_izq-b.diff_izq),combined:at.sort((b,L)=>b.total_votos-L.total_votos),antofa:X,arica:$,coquimbo:B,santiagoSur:gt,rancagua:qt,losAngeles:Pt,puertoMontt:bt}}}catch(v){return console.error("Error en load():",v),{data:{histograms:[],diff:[],combined:[],antofa:[],arica:[],coquimbo:[],santiagoSur:[],rancagua:[],losAngeles:[],puertoMontt:[]}}}}const Jr=Object.freeze(Object.defineProperty({__proto__:null,load:zn},Symbol.toStringTag,{value:"Module"}));var ae=1e-6,Ze=Math.PI,qn=Ze*2,bn=180/Ze,Mn=Ze/180,ne=Math.abs,kn=Math.cos,Tn=Math.sin,Ve=Math.sqrt;function Rt(){}function Se(a,n){a&&Ha.hasOwnProperty(a.type)&&Ha[a.type](a,n)}var Ca={Feature:function(a,n){Se(a.geometry,n)},FeatureCollection:function(a,n){for(var o=a.features,r=-1,i=o.length;++r<i;)Se(o[r].geometry,n)}},Ha={Sphere:function(a,n){n.sphere()},Point:function(a,n){a=a.coordinates,n.point(a[0],a[1],a[2])},MultiPoint:function(a,n){for(var o=a.coordinates,r=-1,i=o.length;++r<i;)a=o[r],n.point(a[0],a[1],a[2])},LineString:function(a,n){Ue(a.coordinates,n,0)},MultiLineString:function(a,n){for(var o=a.coordinates,r=-1,i=o.length;++r<i;)Ue(o[r],n,0)},Polygon:function(a,n){Ia(a.coordinates,n)},MultiPolygon:function(a,n){for(var o=a.coordinates,r=-1,i=o.length;++r<i;)Ia(o[r],n)},GeometryCollection:function(a,n){for(var o=a.geometries,r=-1,i=o.length;++r<i;)Se(o[r],n)}};function Ue(a,n,o){var r=-1,i=a.length-o,s;for(n.lineStart();++r<i;)s=a[r],n.point(s[0],s[1],s[2]);n.lineEnd()}function Ia(a,n){var o=-1,r=a.length;for(n.polygonStart();++o<r;)Ue(a[o],n,1);n.polygonEnd()}function te(a,n){a&&Ca.hasOwnProperty(a.type)?Ca[a.type](a,n):Se(a,n)}function Dn(){var a=[],n;return{point:function(o,r,i){n.push([o,r,i])},lineStart:function(){a.push(n=[])},lineEnd:Rt,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var o=a;return a=[],n=null,o}}}function Nn(a,n){return ne(a[0]-n[0])<ae&&ne(a[1]-n[1])<ae}function we(a,n,o,r){this.x=a,this.z=n,this.o=o,this.e=r,this.v=!1,this.n=this.p=null}function Rn(a,n,o,r,i){var s=[],h=[],d,f;if(a.forEach(function(c){if(!((st=c.length-1)<=0)){var st,at=c[0],nt=c[st],X;if(Nn(at,nt)){if(!at[2]&&!nt[2]){for(i.lineStart(),d=0;d<st;++d)i.point((at=c[d])[0],at[1]);i.lineEnd();return}nt[0]+=2*ae}s.push(X=new we(at,c,null,!0)),h.push(X.o=new we(at,null,X,!1)),s.push(X=new we(nt,c,null,!1)),h.push(X.o=new we(nt,null,X,!0))}}),!!s.length){for(h.sort(n),Ua(s),Ua(h),d=0,f=h.length;d<f;++d)h[d].e=o=!o;for(var P=s[0],l,v;;){for(var x=P,w=!0;x.v;)if((x=x.n)===P)return;l=x.z,i.lineStart();do{if(x.v=x.o.v=!0,x.e){if(w)for(d=0,f=l.length;d<f;++d)i.point((v=l[d])[0],v[1]);else r(x.x,x.n.x,1,i);x=x.n}else{if(w)for(l=x.p.z,d=l.length-1;d>=0;--d)i.point((v=l[d])[0],v[1]);else r(x.x,x.p.x,-1,i);x=x.p}x=x.o,l=x.z,w=!w}while(!x.v);i.lineEnd()}}}function Ua(a){if(n=a.length){for(var n,o=0,r=a[0],i;++o<n;)r.n=i=a[o],i.p=r,r=i;r.n=i=a[0],i.p=r}}function Cn(a,n,o,r,i,s){var h=a[0],d=a[1],f=n[0],P=n[1],l=0,v=1,x=f-h,w=P-d,c;if(c=o-h,!(!x&&c>0)){if(c/=x,x<0){if(c<l)return;c<v&&(v=c)}else if(x>0){if(c>v)return;c>l&&(l=c)}if(c=i-h,!(!x&&c<0)){if(c/=x,x<0){if(c>v)return;c>l&&(l=c)}else if(x>0){if(c<l)return;c<v&&(v=c)}if(c=r-d,!(!w&&c>0)){if(c/=w,w<0){if(c<l)return;c<v&&(v=c)}else if(w>0){if(c>v)return;c>l&&(l=c)}if(c=s-d,!(!w&&c<0)){if(c/=w,w<0){if(c>v)return;c>l&&(l=c)}else if(w>0){if(c<l)return;c<v&&(v=c)}return l>0&&(a[0]=h+l*x,a[1]=d+l*w),v<1&&(n[0]=h+v*x,n[1]=d+v*w),!0}}}}}var de=1e9,ye=-de;function Hn(a,n,o,r){function i(P,l){return a<=P&&P<=o&&n<=l&&l<=r}function s(P,l,v,x){var w=0,c=0;if(P==null||(w=h(P,v))!==(c=h(l,v))||f(P,l)<0^v>0)do x.point(w===0||w===3?a:o,w>1?r:n);while((w=(w+v+4)%4)!==c);else x.point(l[0],l[1])}function h(P,l){return ne(P[0]-a)<ae?l>0?0:3:ne(P[0]-o)<ae?l>0?2:1:ne(P[1]-n)<ae?l>0?1:0:l>0?3:2}function d(P,l){return f(P.x,l.x)}function f(P,l){var v=h(P,1),x=h(l,1);return v!==x?v-x:v===0?l[1]-P[1]:v===1?P[0]-l[0]:v===2?P[1]-l[1]:l[0]-P[0]}return function(P){var l=P,v=Dn(),x,w,c,st,at,nt,X,H,$,D,B,Z={point:gt,lineStart:Pt,lineEnd:dt,polygonStart:qt,polygonEnd:xt};function gt(F,b){i(F,b)&&l.point(F,b)}function K(){for(var F=0,b=0,L=w.length;b<L;++b)for(var et=w[b],Mt=1,V=et.length,lt=et[0],Ot,At,Zt=lt[0],tt=lt[1];Mt<V;++Mt)Ot=Zt,At=tt,lt=et[Mt],Zt=lt[0],tt=lt[1],At<=r?tt>r&&(Zt-Ot)*(r-At)>(tt-At)*(a-Ot)&&++F:tt<=r&&(Zt-Ot)*(r-At)<(tt-At)*(a-Ot)&&--F;return F}function qt(){l=v,x=[],w=[],B=!0}function xt(){var F=K(),b=B&&F,L=(x=En(x)).length;(b||L)&&(P.polygonStart(),b&&(P.lineStart(),s(null,null,1,P),P.lineEnd()),L&&Rn(x,d,F,s,P),P.polygonEnd()),l=P,x=w=c=null}function Pt(){Z.point=bt,w&&w.push(c=[]),D=!0,$=!1,X=H=NaN}function dt(){x&&(bt(st,at),nt&&$&&v.rejoin(),x.push(v.result())),Z.point=gt,$&&l.lineEnd()}function bt(F,b){var L=i(F,b);if(w&&c.push([F,b]),D)st=F,at=b,nt=L,D=!1,L&&(l.lineStart(),l.point(F,b));else if(L&&$)l.point(F,b);else{var et=[X=Math.max(ye,Math.min(de,X)),H=Math.max(ye,Math.min(de,H))],Mt=[F=Math.max(ye,Math.min(de,F)),b=Math.max(ye,Math.min(de,b))];Cn(et,Mt,a,n,o,r)?($||(l.lineStart(),l.point(et[0],et[1])),l.point(Mt[0],Mt[1]),L||l.lineEnd(),B=!1):L&&(l.lineStart(),l.point(F,b),B=!1)}X=F,H=b,$=L}return Z}}const We=a=>a;var He=new re,Fe=new re,Za,Va,je,Be,Lt={point:Rt,lineStart:Rt,lineEnd:Rt,polygonStart:function(){Lt.lineStart=In,Lt.lineEnd=Wn},polygonEnd:function(){Lt.lineStart=Lt.lineEnd=Lt.point=Rt,He.add(ne(Fe)),Fe=new re},result:function(){var a=He/2;return He=new re,a}};function In(){Lt.point=Un}function Un(a,n){Lt.point=Ya,Za=je=a,Va=Be=n}function Ya(a,n){Fe.add(Be*a-je*n),je=a,Be=n}function Wn(){Ya(Za,Va)}var oe=1/0,Ee=oe,_e=-oe,ze=_e,qe={point:Fn,lineStart:Rt,lineEnd:Rt,polygonStart:Rt,polygonEnd:Rt,result:function(){var a=[[oe,Ee],[_e,ze]];return _e=ze=-(Ee=oe=1/0),a}};function Fn(a,n){a<oe&&(oe=a),a>_e&&(_e=a),n<Ee&&(Ee=n),n>ze&&(ze=n)}var Le=0,Oe=0,he=0,be=0,Me=0,ee=0,Ae=0,Je=0,pe=0,Qa,Ka,Ut,Wt,Nt={point:Qt,lineStart:Wa,lineEnd:Fa,polygonStart:function(){Nt.lineStart=Ln,Nt.lineEnd=On},polygonEnd:function(){Nt.point=Qt,Nt.lineStart=Wa,Nt.lineEnd=Fa},result:function(){var a=pe?[Ae/pe,Je/pe]:ee?[be/ee,Me/ee]:he?[Le/he,Oe/he]:[NaN,NaN];return Le=Oe=he=be=Me=ee=Ae=Je=pe=0,a}};function Qt(a,n){Le+=a,Oe+=n,++he}function Wa(){Nt.point=jn}function jn(a,n){Nt.point=Bn,Qt(Ut=a,Wt=n)}function Bn(a,n){var o=a-Ut,r=n-Wt,i=Ve(o*o+r*r);be+=i*(Ut+a)/2,Me+=i*(Wt+n)/2,ee+=i,Qt(Ut=a,Wt=n)}function Fa(){Nt.point=Qt}function Ln(){Nt.point=An}function On(){tn(Qa,Ka)}function An(a,n){Nt.point=tn,Qt(Qa=Ut=a,Ka=Wt=n)}function tn(a,n){var o=a-Ut,r=n-Wt,i=Ve(o*o+r*r);be+=i*(Ut+a)/2,Me+=i*(Wt+n)/2,ee+=i,i=Wt*a-Ut*n,Ae+=i*(Ut+a),Je+=i*(Wt+n),pe+=i*3,Qt(Ut=a,Wt=n)}function en(a){this._context=a}en.prototype={_radius:4.5,pointRadius:function(a){return this._radius=a,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(a,n){switch(this._point){case 0:{this._context.moveTo(a,n),this._point=1;break}case 1:{this._context.lineTo(a,n);break}default:{this._context.moveTo(a+this._radius,n),this._context.arc(a,n,this._radius,0,qn);break}}},result:Rt};var Ge=new re,Ie,an,nn,ve,ge,me={point:Rt,lineStart:function(){me.point=Jn},lineEnd:function(){Ie&&rn(an,nn),me.point=Rt},polygonStart:function(){Ie=!0},polygonEnd:function(){Ie=null},result:function(){var a=+Ge;return Ge=new re,a}};function Jn(a,n){me.point=rn,an=ve=a,nn=ge=n}function rn(a,n){ve-=a,ge-=n,Ge.add(Ve(ve*ve+ge*ge)),ve=a,ge=n}let ja,ke,Ba,La;class Oa{constructor(n){this._append=n==null?on:Gn(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,o){switch(this._point){case 0:{this._append`M${n},${o}`,this._point=1;break}case 1:{this._append`L${n},${o}`;break}default:{if(this._append`M${n},${o}`,this._radius!==Ba||this._append!==ke){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Ba=r,ke=this._append,La=this._,this._=i}this._+=La;break}}}result(){const n=this._;return this._="",n.length?n:null}}function on(a){let n=1;this._+=a[0];for(const o=a.length;n<o;++n)this._+=arguments[n]+a[n]}function Gn(a){const n=Math.floor(a);if(!(n>=0))throw new RangeError(`invalid digits: ${a}`);if(n>15)return on;if(n!==ja){const o=10**n;ja=n,ke=function(i){let s=1;this._+=i[0];for(const h=i.length;s<h;++s)this._+=Math.round(arguments[s]*o)/o+i[s]}}return ke}function Xn(a,n){let o=3,r=4.5,i,s;function h(d){return d&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),te(d,i(s))),s.result()}return h.area=function(d){return te(d,i(Lt)),Lt.result()},h.measure=function(d){return te(d,i(me)),me.result()},h.bounds=function(d){return te(d,i(qe)),qe.result()},h.centroid=function(d){return te(d,i(Nt)),Nt.result()},h.projection=function(d){return arguments.length?(i=d==null?(a=null,We):(a=d).stream,h):a},h.context=function(d){return arguments.length?(s=d==null?(n=null,new Oa(o)):new en(n=d),typeof r!="function"&&s.pointRadius(r),h):n},h.pointRadius=function(d){return arguments.length?(r=typeof d=="function"?d:(s.pointRadius(+d),+d),h):r},h.digits=function(d){if(!arguments.length)return o;if(d==null)o=null;else{const f=Math.floor(d);if(!(f>=0))throw new RangeError(`invalid digits: ${d}`);o=f}return n===null&&(s=new Oa(o)),h},h.projection(a).digits(o).context(n)}function Zn(a){return function(n){var o=new Xe;for(var r in a)o[r]=a[r];return o.stream=n,o}}function Xe(){}Xe.prototype={constructor:Xe,point:function(a,n){this.stream.point(a,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ye(a,n,o){var r=a.clipExtent&&a.clipExtent();return a.scale(150).translate([0,0]),r!=null&&a.clipExtent(null),te(o,a.stream(qe)),n(qe.result()),r!=null&&a.clipExtent(r),a}function sn(a,n,o){return Ye(a,function(r){var i=n[1][0]-n[0][0],s=n[1][1]-n[0][1],h=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),d=+n[0][0]+(i-h*(r[1][0]+r[0][0]))/2,f=+n[0][1]+(s-h*(r[1][1]+r[0][1]))/2;a.scale(150*h).translate([d,f])},o)}function Vn(a,n,o){return sn(a,[[0,0],n],o)}function Yn(a,n,o){return Ye(a,function(r){var i=+n,s=i/(r[1][0]-r[0][0]),h=(i-s*(r[1][0]+r[0][0]))/2,d=-s*r[0][1];a.scale(150*s).translate([h,d])},o)}function Qn(a,n,o){return Ye(a,function(r){var i=+n,s=i/(r[1][1]-r[0][1]),h=-s*r[0][0],d=(i-s*(r[1][1]+r[0][1]))/2;a.scale(150*s).translate([h,d])},o)}function Kn(){var a=1,n=0,o=0,r=1,i=1,s=0,h,d,f=null,P,l,v,x=1,w=1,c=Zn({point:function($,D){var B=H([$,D]);this.stream.point(B[0],B[1])}}),st=We,at,nt;function X(){return x=a*r,w=a*i,at=nt=null,H}function H($){var D=$[0]*x,B=$[1]*w;if(s){var Z=B*h-D*d;D=D*h+B*d,B=Z}return[D+n,B+o]}return H.invert=function($){var D=$[0]-n,B=$[1]-o;if(s){var Z=B*h+D*d;D=D*h-B*d,B=Z}return[D/x,B/w]},H.stream=function($){return at&&nt===$?at:at=c(st(nt=$))},H.postclip=function($){return arguments.length?(st=$,f=P=l=v=null,X()):st},H.clipExtent=function($){return arguments.length?(st=$==null?(f=P=l=v=null,We):Hn(f=+$[0][0],P=+$[0][1],l=+$[1][0],v=+$[1][1]),X()):f==null?null:[[f,P],[l,v]]},H.scale=function($){return arguments.length?(a=+$,X()):a},H.translate=function($){return arguments.length?(n=+$[0],o=+$[1],X()):[n,o]},H.angle=function($){return arguments.length?(s=$%360*Mn,d=Tn(s),h=kn(s),X()):s*bn},H.reflectX=function($){return arguments.length?(r=$?-1:1,X()):r<0},H.reflectY=function($){return arguments.length?(i=$?-1:1,X()):i<0},H.fitExtent=function($,D){return sn(H,$,D)},H.fitSize=function($,D){return Vn(H,$,D)},H.fitWidth=function($,D){return Yn(H,$,D)},H.fitHeight=function($,D){return Qn(H,$,D)},H}var tr=it('<path stroke="#000" stroke-width="0.5"></path>'),er=ie('<div class="map-title svelte-mia2yl"> </div> <div class="chart-container svelte-mia2yl"><svg><g></g><g><linearGradient id="gradient" spreadMethod="pad"><stop></stop><stop></stop></linearGradient><rect></rect><text text-anchor="middle"> </text><text text-anchor="middle"> </text></g></svg></div>',1);function Yt(a,n){Ja(n,!1);const o=R(),r=R(),i=R(),s=R(),h=R(),d=R(),f=R();let P=Pe(n,"mapTitle",8,""),l=Pe(n,"mapWidth",8,300),v=Pe(n,"mapData",24,()=>({features:[]}));const x=50,w=xn(["#fff","#B8264F"]);N(()=>Xt(l()),()=>{k(o,Math.min(l()*.9,300))}),N(()=>(Xt(l()),Xt(v())),()=>{k(r,Kn().reflectY(!0).fitWidth(l(),v()))}),N(()=>t(r),()=>{k(i,Xn(t(r)))}),N(()=>(t(i),Xt(v())),()=>{k(s,Math.ceil(t(i).bounds(v())[1][1]))}),N(()=>t(s),()=>{k(h,t(s)+x)}),N(()=>(Xt(v()),Ra),()=>{k(d,v().features.length===0?[0,100]:Ra(v().features,c=>c.properties.total_voto))}),N(()=>t(d),()=>{k(f,$n().interpolator(w).domain(t(d)).clamp(!0))}),Ga(),Aa(),ce(a,{children:(c,st)=>{var at=er(),nt=J(at),X=C(nt,!0);S(nt);var H=p(nt,2),$=C(H);e($,"margin","0 auto");var D=C($);ht(D,5,()=>v().features,pt,(F,b)=>{var L=tr();G((et,Mt)=>{e(L,"d",et),e(L,"fill",Mt)},[()=>t(i)(t(b)),()=>t(f)(t(b).properties.total_voto)],U),M(F,L)}),S(D);var B=p(D),Z=C(B);e(Z,"x1","0%"),e(Z,"y1","100%"),e(Z,"x2","100%"),e(Z,"y2","100%");var gt=C(Z);e(gt,"offset","0%"),e(gt,"stop-color","#FFF"),e(gt,"stop-opacity",1);var K=p(gt);e(K,"offset","100%"),e(K,"stop-color","#B8264F"),e(K,"stop-opacity",1),S(Z);var qt=p(Z);e(qt,"height",x/4),e(qt,"fill","url(#gradient)");var xt=p(qt);e(xt,"fill",Q),e(xt,"font-size",12);var Pt=C(xt,!0);S(xt);var dt=p(xt);e(dt,"fill",Q),e(dt,"font-size",12);var bt=C(dt,!0);S(dt),S(B),S($),S(H),G((F,b)=>{vt(X,P()),e($,"width",l()),e($,"height",t(h)),e($,"viewBox",`0 0 ${l()??""} ${t(h)??""}`),e(qt,"x",(l()-t(o))/2),e(qt,"y",t(s)+6),e(qt,"width",t(o)),e(xt,"x",(l()-t(o))/2),e(xt,"y",t(s)+x/2+6),vt(Pt,F),e(dt,"x",(l()+t(o))/2),e(dt,"y",t(s)+x/2+6),vt(bt,b)},[()=>Bt(t(d)[0]),()=>Bt(t(d)[1])],U),M(c,at)},$$slots:{default:!0}}),Xa()}var ar=it('<line></line><text text-anchor="middle" font-size="12"> </text>',1),nr=it('<line stroke-width="0.2"></line><text text-anchor="end" font-size="12"> </text>',1),rr=it("<rect></rect>"),or=it("<tspan> </tspan>"),ir=it("<tspan> </tspan>"),sr=ie('<div class="chart-container svelte-vay507"><svg><g><!><text text-anchor="middle" font-size="12">Diferencia de votos entre Jara y listas Unidad por Chile</text></g><g><!><text text-anchor="left" font-size="12">Número de locales de votación</text></g><g></g><g><text text-anchor="left" font-weight="500"></text><text text-anchor="end" font-weight="500"></text></g></svg></div>'),lr=it('<line></line><text text-anchor="middle" font-size="12"> </text>',1),ur=it('<line stroke-width="0.2"></line><text text-anchor="end" font-size="12"> </text>',1),fr=it("<rect></rect>"),cr=it("<tspan> </tspan>"),dr=it("<tspan> </tspan>"),hr=ie('<div class="chart-container svelte-vay507"><svg><g><!><text text-anchor="middle" font-size="12">Diferencia de votos entre Jara y listas de izquierda</text></g><g><!><text text-anchor="left" font-size="12">Número de locales de votación</text></g><g></g><g><text text-anchor="left" font-weight="500"></text><text text-anchor="end" font-weight="500"></text></g></svg></div>'),pr=it('<line stroke-width="0.2"></line><text text-anchor="middle" font-size="12"> </text>',1),vr=it('<text text-anchor="end" font-size="12"> </text>'),gr=it('<text text-anchor="middle" font-size="12" font-weight="500">Jara</text><text text-anchor="middle" font-size="12" font-weight="500">Izquierda</text>',1),_r=it('<line></line><circle></circle><circle></circle><text text-anchor="middle" font-size="12"> </text><!>',1),mr=ie('<div class="chart-container svelte-vay507"><svg><g><!><text text-anchor="middle" font-size="12">Votos obtenidos</text></g><g></g><g></g></svg></div>'),xr=it('<line stroke-width="0.2"></line><text text-anchor="middle" font-size="12"> </text>',1),$r=it('<text text-anchor="end" font-size="12"> </text>'),wr=it("<tspan>Votantes</tspan> <tspan>PDG</tspan>",1),yr=it("<tspan>Votantes</tspan> <tspan>Izquierda</tspan>",1),Pr=it('<text text-anchor="middle" font-size="12" font-weight="500"><!></text><text text-anchor="middle" font-size="12" font-weight="500"><!></text>',1),Sr=it('<rect></rect><rect></rect><text text-anchor="start" font-size="12"> </text><!>',1),Er=it("<tspan> </tspan>"),zr=ie('<div class="chart-container svelte-vay507"><svg><g><!><text text-anchor="middle" font-size="12">Potenciales votantes</text></g><g></g><g></g><g><text font-size="12" font-weight="500"></text></g></svg></div>'),qr=ie("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function Gr(a,n){Ja(n,!1);const[o,r]=hn(),i=()=>pn(dn,"$page",o),s=R(),h=R(),d=R(),f=R(),P=R(),l=R(),v=R(),x=R(),w=R(),c=R(),st=R(),at=R(),nt=R(),X=R(),H=R(),$=R(),D=R(),B=R(),Z=R(),gt=R(),K=R(),qt=R(),xt=R(),Pt=R(),dt=R(),bt=R(),F=R(),b=R(),L=R(),et=R(),Mt=R(),V=R(),lt=R(),Ot=R(),At="1BSExFm1X9tqKUcPZuNPaXKI3yWBNBRafpsqqKZqsDXc",Zt=i().data.posts.filter(g=>g.gDocId===At)[0],tt=Zt.content;function Qe(g){return g.split(" ").map(Y=>Y[0].toUpperCase()+Y.slice(1).toLowerCase()).join(" ")}let St=Pe(n,"data",8);const _t={top:20,left:30,bottom:40,right:20},Ke=[0,50,100,150,200,250],ln=[0,5e4,1e5,15e4];N(()=>{},()=>{k(s,0)}),N(()=>{},()=>{k(h,0)}),N(()=>(t(h),t(s)),()=>{k(d,t(h)>t(s))}),N(()=>t(s),()=>{k(f,t(s)<768)}),N(()=>(t(f),t(s)),()=>{k(P,t(f)?.8*t(s):768)}),N(()=>t(f),()=>{k(l,(t(f),400))}),N(()=>Xt(St()),()=>{k(v,St().data.histograms)}),N(()=>t(v),()=>{k(x,Na([...t(v).izq,...t(v).upch]))}),N(()=>(t(x),t(l)),()=>{k(w,$e().domain([0,t(x)]).range([t(l)-_t.bottom,_t.top]))}),N(()=>t(P),()=>{k(c,$e().domain([-4e3,4e3]).range([_t.left,t(P)-_t.right]))}),N(()=>t(f),()=>{k(st,t(f)?[-4e3,-2e3,0,2e3,4e3]:[-4e3,-3e3,-2e3,-1e3,0,1e3,2e3,3e3,4e3])}),N(()=>t(f),()=>{k(at,t(f)?["En 1.365 locales","de votación,","Jara obtuvo","menos votos","que la lista","Unidad por Chile..."]:["En 1.365 locales de votación,","Jara obtuvo menos votos que la","lista Unidad por Chile..."])}),N(()=>t(f),()=>{k(nt,t(f)?["...comparados","con los 1.799","en los que","obtuvo más"]:["...comparados con los 1.799","en los que obtuvo más"])}),N(()=>t(f),()=>{k(X,t(f)?["Cuando se","consideran","todas las,","listas de izquierda,","los locales","donde Jara obtuvo","menos votos","aumentan","a 2.809..."]:["Cuando se consideran todas las,","listas de izquierda, los locales","donde Jara obtuvo menos votos","aumentan a 2.809..."])}),N(()=>t(f),()=>{k(H,t(f)?["...mientras que","en los que","obtuvo una","mayor votación"," bajan","drásticamente","a 274"]:["...mientras que en los que obtuvo","una mayor votación bajan","drásticamente a 274"])}),N(()=>t(f),()=>{k($,t(f)?3:4)}),N(()=>Xt(St()),()=>{k(D,St().data.diff)}),N(()=>t(D),()=>{k(B,t(D).map(g=>g.comuna))}),N(()=>t(s),()=>{k(Z,t(s)<600?.8*t(s):600)}),N(()=>t(s),()=>{k(gt,(t(s)<600,600))}),N(()=>t(f),()=>{k(K,{top:20,left:t(f)?100:160,bottom:40,right:30})}),N(()=>t(D),()=>{k(qt,wn(t(D),g=>Math.min(g.jara,g.izquierda)))}),N(()=>t(D),()=>{k(xt,Na(t(D),g=>Math.max(g.jara,g.izquierda)))}),N(()=>(t(K),t(Z)),()=>{k(Pt,$e().domain([0,15e4]).range([t(K).left,t(Z)-t(K).right]))}),N(()=>(t(B),t(gt),t(K)),()=>{k(dt,yn().domain(t(B)).range([t(gt)-t(K).bottom,t(K).top]).padding(.5))}),N(()=>Xt(St()),()=>{k(bt,St().data.combined)}),N(()=>t(bt),()=>{k(F,t(bt).map(g=>g.comuna))}),N(()=>t(s),()=>{k(b,t(s)<600?.8*t(s):600)}),N(()=>t(s),()=>{k(L,(t(s)<600,600))}),N(()=>t(f),()=>{k(et,{top:40,left:t(f)?100:160,bottom:40,right:40})}),N(()=>t(f),()=>{k(Mt,t(f)?[0,5e4,1e5]:[0,2e4,4e4,6e4,8e4,1e5])}),N(()=>(t(et),t(b)),()=>{k(V,$e().domain([0,1e5]).range([t(et).left,t(b)-t(et).right]))}),N(()=>(t(F),t(L),t(et)),()=>{k(lt,Pn().domain(t(F)).range([t(L)-t(et).bottom,t(et).top]).padding(.2))}),N(()=>t(f),()=>{k(Ot,t(f)?["* En estas","comunas Jara","sacó mayor","votación que","las listas","de","centroizquierda/","izquierda"]:["* En estas comunas Jara","sacó mayor votación que","las listas de","centroizquierda/izquierda"])}),Ga(),Aa();var ta=qr(),ea=J(ta);vn(ea,{get head(){return tt.head},view:"article"});var aa=p(ea,2);Gt(aa,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph1.text,!1,!1),M(g,y)},$$slots:{default:!0}});var na=p(aa,2);fe(na,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph2.chartTitle,!1,!1),M(g,y)},$$slots:{default:!0}});var ra=p(na,2);It(ra,{class:"row-interactive",children:(g,Y)=>{ce(g,{children:(y,j)=>{var $t=sr(),O=C($t);e(O,"margin","0 auto");var ut=C(O),Ct=C(ut);ht(Ct,1,()=>t(st),pt,(E,m)=>{var z=ar(),u=J(z);e(u,"y1",0),e(u,"y2",6),e(u,"stroke",Q);var q=p(u);e(q,"y",18),e(q,"fill",Q);var rt=C(q,!0);S(q),G((I,ct)=>{e(u,"x1",I),e(u,"x2",I),e(q,"x",I),vt(rt,ct)},[()=>t(c)(t(m)),()=>Bt(t(m))],U),M(E,z)});var wt=p(Ct);e(wt,"y",36),e(wt,"fill",Q),S(ut);var ft=p(ut),kt=C(ft);ht(kt,1,()=>Ke,pt,(E,m)=>{var z=nr(),u=J(z);e(u,"x1",0),e(u,"stroke",Q);var q=p(u);e(q,"x",-4),e(q,"fill",Q);var rt=C(q,!0);S(q),G((I,ct,ot)=>{e(u,"x2",t(P)-_t.right-_t.left),e(u,"y1",I),e(u,"y2",I),e(q,"y",ct),vt(rt,ot)},[()=>t(w)(t(m)),()=>t(w)(t(m))+4,()=>t(m).toFixed(0)],U),M(E,z)});var mt=p(kt);e(mt,"y",12),e(mt,"fill",Q),S(ft);var W=p(ft);ht(W,5,()=>t(v).upch,pt,(E,m,z)=>{var u=rr();const q=U(()=>t(v).bins[z]);e(u,"stroke","white"),e(u,"stroke-width",.2),G((rt,I,ct,ot)=>{e(u,"x",rt),e(u,"y",I),e(u,"width",ct),e(u,"height",ot),e(u,"fill",t(q)>=0?Kt:Jt)},[()=>t(c)(t(q)),()=>t(w)(t(m)),()=>t(c)(t(v).bins[z+1])-t(c)(t(q)),()=>t(l)-_t.bottom-t(w)(t(m))],U),M(E,u)}),S(W);var A=p(W),_=C(A);e(_,"fill",Jt),ht(_,5,()=>t(at),pt,(E,m,z)=>{var u=or(),q=C(u,!0);S(u),G((rt,I)=>{e(u,"x",rt),e(u,"y",I),vt(q,t(m))},[()=>t(c)(t(f)?-3800:-3500),()=>t(w)(t(f)?230:185)+(t(f)?14:18)*z],U),M(E,u)}),S(_);var T=p(_);e(T,"fill",Kt),ht(T,5,()=>t(nt),pt,(E,m,z)=>{var u=ir(),q=C(u,!0);S(u),G((rt,I)=>{e(u,"x",rt),e(u,"y",I),vt(q,t(m))},[()=>t(c)(t(f)?3800:3500),()=>t(w)(t(f)?230:185)+(t(f)?14:18)*z],U),M(E,u)}),S(T),S(A),S(O),S($t),G((E,m,z)=>{e(O,"width",t(P)),e(O,"height",t(l)),e(O,"viewBox",`0 0 ${t(P)??""} ${t(l)??""}`),e(ut,"transform",`translate(0, ${t(l)-_t.bottom})`),e(wt,"x",t(P)/2),e(ft,"transform",`translate(${_t.left}, 0)`),e(mt,"x",-_t.left),e(_,"x",E),e(_,"y",m),e(_,"font-size",t(f)?12:16),e(T,"x",z),e(T,"y",m),e(T,"font-size",t(f)?12:16)},[()=>t(c)(t(f)?-3800:-3500),()=>t(w)(t(f)?230:185),()=>t(c)(t(f)?3800:3500)],U),M(y,$t)},$$slots:{default:!0}})},$$slots:{default:!0}});var oa=p(ra,2);Gt(oa,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph2.text,!1,!1),M(g,y)},$$slots:{default:!0}});var ia=p(oa,2);fe(ia,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph3.chartTitle,!1,!1),M(g,y)},$$slots:{default:!0}});var sa=p(ia,2);It(sa,{children:(g,Y)=>{ce(g,{children:(y,j)=>{var $t=hr(),O=C($t);e(O,"margin","0 auto");var ut=C(O),Ct=C(ut);ht(Ct,1,()=>t(st),pt,(E,m)=>{var z=lr(),u=J(z);e(u,"y1",0),e(u,"y2",6),e(u,"stroke",Q);var q=p(u);e(q,"y",18),e(q,"fill",Q);var rt=C(q,!0);S(q),G((I,ct)=>{e(u,"x1",I),e(u,"x2",I),e(q,"x",I),vt(rt,ct)},[()=>t(c)(t(m)),()=>Bt(t(m))],U),M(E,z)});var wt=p(Ct);e(wt,"y",36),e(wt,"fill",Q),S(ut);var ft=p(ut),kt=C(ft);ht(kt,1,()=>Ke,pt,(E,m)=>{var z=ur(),u=J(z);e(u,"x1",0),e(u,"stroke",Q);var q=p(u);e(q,"x",-4),e(q,"fill",Q);var rt=C(q,!0);S(q),G((I,ct,ot)=>{e(u,"x2",t(P)-_t.right-_t.left),e(u,"y1",I),e(u,"y2",I),e(q,"y",ct),vt(rt,ot)},[()=>t(w)(t(m)),()=>t(w)(t(m))+4,()=>t(m).toFixed(0)],U),M(E,z)});var mt=p(kt);e(mt,"y",12),e(mt,"fill",Q),S(ft);var W=p(ft);ht(W,5,()=>t(v).izq,pt,(E,m,z)=>{var u=fr();const q=U(()=>t(v).bins[z]);e(u,"stroke","white"),e(u,"stroke-width",.2),G((rt,I,ct,ot)=>{e(u,"x",rt),e(u,"y",I),e(u,"width",ct),e(u,"height",ot),e(u,"fill",t(q)>=0?Kt:Jt)},[()=>t(c)(t(q)),()=>t(w)(t(m)),()=>t(c)(t(v).bins[z+1])-t(c)(t(q)),()=>t(l)-_t.bottom-t(w)(t(m))],U),M(E,u)}),S(W);var A=p(W),_=C(A);e(_,"fill",Jt),ht(_,5,()=>t(X),pt,(E,m,z)=>{var u=cr(),q=C(u,!0);S(u),G((rt,I)=>{e(u,"x",rt),e(u,"y",I),vt(q,t(m))},[()=>t(c)(t(f)?-3800:-3500),()=>t(w)(t(f)?230:185)+(t(f)?14:18)*z],U),M(E,u)}),S(_);var T=p(_);e(T,"fill",Kt),ht(T,5,()=>t(H),pt,(E,m,z)=>{var u=dr(),q=C(u,!0);S(u),G((rt,I)=>{e(u,"x",rt),e(u,"y",I),vt(q,t(m))},[()=>t(c)(t(f)?3800:3500),()=>t(w)(t(f)?230:185)+(t(f)?14:18)*z],U),M(E,u)}),S(T),S(A),S(O),S($t),G((E,m,z)=>{e(O,"width",t(P)),e(O,"height",t(l)),e(O,"viewBox",`0 0 ${t(P)??""} ${t(l)??""}`),e(ut,"transform",`translate(0, ${t(l)-_t.bottom})`),e(wt,"x",t(P)/2),e(ft,"transform",`translate(${_t.left}, 0)`),e(mt,"x",-_t.left),e(_,"x",E),e(_,"y",m),e(_,"font-size",t(f)?12:16),e(T,"x",z),e(T,"y",m),e(T,"font-size",t(f)?12:16)},[()=>t(c)(t(f)?-3800:-3500),()=>t(w)(t(f)?230:185),()=>t(c)(t(f)?3800:3500)],U),M(y,$t)},$$slots:{default:!0}})},$$slots:{default:!0}});var la=p(sa,2);Gt(la,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph3.text,!1,!1),M(g,y)},$$slots:{default:!0}});var ua=p(la,2);fe(ua,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph3.chartTitle2,!1,!1),M(g,y)},$$slots:{default:!0}});var fa=p(ua,2);It(fa,{children:(g,Y)=>{ce(g,{children:(y,j)=>{var $t=mr(),O=C($t);e(O,"margin","0 auto");var ut=C(O),Ct=C(ut);ht(Ct,1,()=>ln,pt,(mt,W)=>{var A=pr(),_=J(A);e(_,"y1",0),e(_,"stroke",Q);var T=p(_);e(T,"y",18),e(T,"fill",Q);var E=C(T,!0);S(T),G((m,z)=>{e(_,"x1",m),e(_,"x2",m),e(_,"y2",-(t(gt)-t(K).top-t(K).bottom)),e(T,"x",m),vt(E,z)},[()=>t(Pt)(t(W)),()=>Bt(t(W))],U),M(mt,A)});var wt=p(Ct);e(wt,"y",36),e(wt,"fill",Q),S(ut);var ft=p(ut);ht(ft,5,()=>t(B),pt,(mt,W)=>{var A=vr();e(A,"x",-20),e(A,"fill",Q);var _=C(A,!0);S(A),G((T,E)=>{e(A,"y",T),vt(_,E)},[()=>t(dt)(t(W))-18,()=>Qe(t(W))],U),M(mt,A)}),S(ft);var kt=p(ft);ht(kt,5,()=>t(D),pt,(mt,W,A)=>{var _=_r(),T=J(_);e(T,"stroke",Q);var E=p(T);e(E,"fill",Kt);var m=p(E);e(m,"fill",Jt);var z=p(m);e(z,"fill",Q);var u=C(z,!0);S(z);var q=p(z);{var rt=I=>{var ct=gr(),ot=J(ct);e(ot,"fill",Kt);var Ht=p(ot);e(Ht,"fill",Jt),G((Tt,Ft,se)=>{e(ot,"x",Tt),e(ot,"y",Ft),e(Ht,"x",se),e(Ht,"y",Ft)},[()=>t(Pt)(t(W).jara),()=>t(dt)(t(W).comuna)-10,()=>t(Pt)(t(W).izquierda)],U),M(I,ct)};xe(q,I=>{A===t(D).length-1&&I(rt)})}G((I,ct,ot,Ht,Tt,Ft)=>{e(T,"x1",I),e(T,"x2",ct),e(T,"y1",ot),e(T,"y2",ot),e(E,"cx",ct),e(E,"cy",ot),e(E,"r",t($)),e(m,"cx",I),e(m,"cy",ot),e(m,"r",t($)),e(z,"x",Ht),e(z,"y",Tt),vt(u,Ft)},[()=>t(Pt)(t(W).izquierda),()=>t(Pt)(t(W).jara),()=>t(dt)(t(W).comuna),()=>(t(Pt)(t(W).jara)+t(Pt)(t(W).izquierda))/2,()=>t(dt)(t(W).comuna)+16,()=>`${Bt(-t(W).diff_izq)}`],U),M(mt,_)}),S(kt),S(O),S($t),G(()=>{e(O,"width",t(Z)),e(O,"height",t(gt)),e(O,"viewBox",`0 0 ${t(Z)??""} ${t(gt)??""}`),e(ut,"transform",`translate(0, ${t(gt)-t(K).bottom})`),e(wt,"x",t(K).left+(t(Z)-t(K).left-t(K).right)/2),e(ft,"transform",`translate(${t(K).left??""}, ${t(K).top??""})`)}),M(y,$t)},$$slots:{default:!0}})},$$slots:{default:!0}});var ca=p(fa,2);Gt(ca,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph3.text2,!1,!1),M(g,y)},$$slots:{default:!0}});var da=p(ca,2);Gt(da,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph3.text3,!1,!1),M(g,y)},$$slots:{default:!0}});var ha=p(da,2);fe(ha,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph4.chartTitle,!1,!1),M(g,y)},$$slots:{default:!0}});var pa=p(ha,2);It(pa,{children:(g,Y)=>{ce(g,{children:(y,j)=>{var $t=zr(),O=C($t);e(O,"margin","0 auto");var ut=C(O),Ct=C(ut);ht(Ct,1,()=>t(Mt),pt,(A,_)=>{var T=xr(),E=J(T);e(E,"y1",0),e(E,"stroke",Q);var m=p(E);e(m,"y",18),e(m,"fill",Q);var z=C(m,!0);S(m),G((u,q)=>{e(E,"x1",u),e(E,"x2",u),e(E,"y2",-(t(L)-t(et).top-t(et).bottom)),e(m,"x",u),vt(z,q)},[()=>t(V)(t(_)),()=>Bt(t(_))],U),M(A,T)});var wt=p(Ct);e(wt,"y",36),e(wt,"fill",Q),S(ut);var ft=p(ut);ht(ft,5,()=>t(F),pt,(A,_)=>{var T=$r();e(T,"x",-20),e(T,"fill",Q);var E=C(T,!0);S(T),G((m,z)=>{e(T,"y",m),vt(E,z)},[()=>t(lt)(t(_))+t(lt).bandwidth()/2+4,()=>Qe(t(_))],U),M(A,T)}),S(ft);var kt=p(ft);ht(kt,5,()=>t(bt),pt,(A,_,T)=>{var E=Sr();const m=U(()=>t(_).diff_izq<0);var z=J(E);e(z,"fill",Ta);var u=p(z),q=p(u);e(q,"fill",Q);var rt=C(q,!0);S(q);var I=p(q);{var ct=ot=>{var Ht=Pr(),Tt=J(Ht);e(Tt,"fill",Ta);var Ft=C(Tt);{var se=yt=>{var Dt=wr(),jt=J(Dt),le=p(jt,2);G((ue,Re,Ce)=>{e(jt,"x",ue),e(jt,"y",Re),e(le,"x",ue),e(le,"y",Ce)},[()=>(t(V)(t(_).pdg)+t(V)(0))/2,()=>t(lt)(t(_).comuna)-24,()=>t(lt)(t(_).comuna)-10],U),M(yt,Dt)},Te=yt=>{var Dt=ka("Votantes PDG");M(yt,Dt)};xe(Ft,yt=>{t(f)?yt(se):yt(Te,!1)})}S(Tt);var Vt=p(Tt);e(Vt,"fill",Jt);var De=C(Vt);{var Ne=yt=>{var Dt=yr(),jt=J(Dt),le=p(jt,2);G((ue,Re,Ce)=>{e(jt,"x",ue),e(jt,"y",Re),e(le,"x",ue),e(le,"y",Ce)},[()=>(t(V)(t(_).pdg)+t(V)(t(_).total_votos))/2,()=>t(lt)(t(_).comuna)-24,()=>t(lt)(t(_).comuna)-10],U),M(yt,Dt)},fn=yt=>{var Dt=ka("Votantes Izquierda");M(yt,Dt)};xe(De,yt=>{t(f)?yt(Ne):yt(fn,!1)})}S(Vt),G((yt,Dt,jt)=>{e(Tt,"x",yt),e(Tt,"y",Dt),e(Vt,"x",jt),e(Vt,"y",Dt)},[()=>(t(V)(t(_).pdg)+t(V)(0))/2,()=>t(lt)(t(_).comuna)-10,()=>(t(V)(t(_).pdg)+t(V)(t(_).total_votos))/2],U),M(ot,Ht)};xe(I,ot=>{T===t(bt).length-1&&ot(ct)})}G((ot,Ht,Tt,Ft,se,Te,Vt,De,Ne)=>{e(z,"x",ot),e(z,"y",Ht),e(z,"width",Tt),e(z,"height",Ft),e(u,"x",se),e(u,"y",Ht),e(u,"width",Te),e(u,"height",Ft),e(u,"fill",t(m)?Jt:"transparent"),e(u,"stroke",(t(m),"none")),e(u,"stroke-dasharray",t(m)?"":"4 4"),e(q,"x",Vt),e(q,"y",De),vt(rt,Ne)},[()=>t(V)(0),()=>t(lt)(t(_).comuna),()=>t(m)?t(V)(t(_).pdg)-t(V)(0):t(V)(t(_).total_votos)-t(V)(0),()=>t(lt).bandwidth(),()=>t(m)?t(V)(t(_).pdg):t(V)(t(_).total_votos),()=>t(m)?t(V)(t(_).total_votos)-t(V)(t(_).pdg):t(V)(t(_).pdg)-t(V)(t(_).total_votos),()=>t(V)(t(_).total_votos)+8,()=>t(lt)(t(_).comuna)+t(lt).bandwidth()/2+4,()=>t(m)?Bt(t(_).total_votos):`${Bt(t(_).total_votos)}*`],U),M(A,E)}),S(kt);var mt=p(kt),W=C(mt);e(W,"fill",Q),ht(W,5,()=>t(Ot),pt,(A,_,T)=>{var E=Er(),m=C(E,!0);S(E),G((z,u)=>{e(E,"x",z),e(E,"y",u),vt(m,t(_))},[()=>t(V)(t(f)?12e4:62e3),()=>t(lt)(t(f)?"CONCEPCION":"IQUIQUE")+(t(f)?14:18)*T],U),M(A,E)}),S(W),S(mt),S(O),S($t),G((A,_)=>{e(O,"width",t(b)),e(O,"height",t(L)),e(O,"viewBox",`0 0 ${t(b)??""} ${t(L)??""}`),e(ut,"transform",`translate(0, ${t(L)-t(et).bottom})`),e(wt,"x",t(et).left+(t(b)-t(et).left-t(et).right)/2),e(ft,"transform",`translate(${t(et).left??""}, 0)`),e(W,"x",A),e(W,"y",_),e(W,"text-anchor",t(f)?"end":"start")},[()=>t(V)(t(f)?12e4:62e3),()=>t(lt)(t(f)?"CONCEPCION":"IQUIQUE")],U),M(y,$t)},$$slots:{default:!0}})},$$slots:{default:!0}});var va=p(pa,2);Gt(va,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph4.text,!1,!1),M(g,y)},$$slots:{default:!0}});var ga=p(va,2);fe(ga,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph5.chartTitle,!1,!1),M(g,y)},$$slots:{default:!0}});var _a=p(ga,2);It(_a,{children:(g,Y)=>{Yt(g,{mapTitle:"Antofagasta",mapWidth:300,get mapData(){return St().data.antofa}})},$$slots:{default:!0}});var ma=p(_a,2);It(ma,{children:(g,Y)=>{Yt(g,{mapTitle:"Arica",mapWidth:300,get mapData(){return St().data.arica}})},$$slots:{default:!0}});var xa=p(ma,2);It(xa,{children:(g,Y)=>{const y=U(()=>t(s)<500?.85*t(s):500);Yt(g,{mapTitle:"Coquimbo",get mapWidth(){return t(y)},get mapData(){return St().data.coquimbo}})},$$slots:{default:!0}});var $a=p(xa,2);It($a,{children:(g,Y)=>{const y=U(()=>t(s)<600?.85*t(s):600);Yt(g,{mapTitle:"Comunas del sur de Santiago",get mapWidth(){return t(y)},get mapData(){return St().data.santiagoSur}})},$$slots:{default:!0}});var wa=p($a,2);It(wa,{children:(g,Y)=>{Yt(g,{mapTitle:"Rancagua",mapWidth:300,get mapData(){return St().data.rancagua}})},$$slots:{default:!0}});var ya=p(wa,2);It(ya,{children:(g,Y)=>{const y=U(()=>t(s)<500?.85*t(s):500);Yt(g,{mapTitle:"Los Ángeles",get mapWidth(){return t(y)},get mapData(){return St().data.losAngeles}})},$$slots:{default:!0}});var Pa=p(ya,2);It(Pa,{children:(g,Y)=>{const y=U(()=>t(s)<500?.85*t(s):500);Yt(g,{mapTitle:"Puerto Montt",get mapWidth(){return t(y)},get mapData(){return St().data.puertoMontt}})},$$slots:{default:!0}});var Sa=p(Pa,2);Gt(Sa,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph5.text,!1,!1),M(g,y)},$$slots:{default:!0}});var Ea=p(Sa,2);Gt(Ea,{children:(g,Y)=>{var y=Et(),j=J(y);zt(j,()=>tt.paragraph5.text2,!1,!1),M(g,y)},$$slots:{default:!0}});var za=p(Ea,2);_n(za,{get route(){return Zt.route},get text(){return tt.share.text},get subject(){return tt.share.subject}});var qa=p(za,2);cn(qa,{});var ba=p(qa,2);mn(ba,{get notes(){return tt.notes}});var un=p(ba,2);gn(un,{get type(){return tt.head.type}}),Da("innerWidth",g=>k(s,g)),Da("innerHeight",g=>k(h,g)),M(a,ta),Xa(),r()}export{Gr as component,Jr as universal};
