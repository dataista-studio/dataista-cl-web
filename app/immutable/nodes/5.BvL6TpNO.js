import{g as _a,s as e,n as le,o as ce,R as Xt,D as $a,e as St,p as ya,i as Ct,c as st,d as ba,m as wa}from"../chunks/Divider.DHDRwQkR.js";import{d as Je,t as Ma,c as ka,i as Aa,e as Ne,g as La,h as Pa,l as Sa,a as Qe,j as Ca,k as za,b as It,o as Ba,S as Da,N as Ha}from"../chunks/linear.CGmYhSeP.js";import{m as Gt,p as Ta,h as Ga}from"../chunks/index.BiA4FSSe.js";import{e as de}from"../chunks/extent.Ccx1MofX.js";import{a as L,n as ot,s as mt,b as Nt,c as it,i as Ut}from"../chunks/disclose-version.CaeJoITO.js";import{i as Ke}from"../chunks/legacy.BBHQfapU.js";import{p as ta,as as Ea,l as c,a as ea,t as et,b as aa,c as H,r as P,d as l,o as Et,g as t,m as d,f as U,w as q,s as i}from"../chunks/index-client.DporfydE.js";import{h as lt}from"../chunks/index.CcR62cPc.js";import{b as je}from"../chunks/window.g_xjwp-r.js";import{p as Bt,s as ra,a as ue}from"../chunks/props.fQtv6Drh.js";import{n as qa,C as Fe,L as Ra,S as Oa,A as Wa,a as Ia,b as Na,c as ja}from"../chunks/ChartWrapper.1pUGxwPQ.js";import{H as Fa}from"../chunks/SectionTitle.wuuhwArM.js";import{P as zt}from"../chunks/RelatedContent.svelte_svelte_type_style_lang.YPkAuQVw.js";import{P as Jt,R as Va}from"../chunks/RelatedContent.Di-nHL-Q.js";import{u as Ya}from"../chunks/utils.ymFmEZVQ.js";import{s as Za}from"../chunks/pow.CHpHehGj.js";import{s as Ve}from"../chunks/sum.CB6J5KXz.js";import{p as Xa,b as Qt}from"../chunks/band.CSMQlC_A.js";function Ye(o,u){let _;if(u===void 0)for(const p of o)p!=null&&(_<p||_===void 0&&p>=p)&&(_=p);else{let p=-1;for(let M of o)(M=u(M,++p,o))!=null&&(_<M||_===void 0&&M>=M)&&(_=M)}return _}function Ua(o,u){u===void 0&&(u=o,o=Je);for(var _=0,p=u.length-1,M=u[0],h=new Array(p<0?0:p);_<p;)h[_]=o(M,M=u[++_]);return function(C){var r=Math.max(0,Math.min(p-1,Math.floor(C*=p)));return h[r](C-r)}}function Ze(o){return Math.log(o)}function Xe(o){return Math.exp(o)}function Ja(o){return-Math.log(-o)}function Qa(o){return-Math.exp(-o)}function Ka(o){return isFinite(o)?+("1e"+o):o<0?0:o}function tr(o){return o===10?Ka:o===Math.E?Math.exp:u=>Math.pow(o,u)}function er(o){return o===Math.E?Math.log:o===10&&Math.log10||o===2&&Math.log2||(o=Math.log(o),u=>Math.log(u)/o)}function Ue(o){return(u,_)=>-o(-u,_)}function ar(o){const u=o(Ze,Xe),_=u.domain;let p=10,M,h;function C(){return M=er(p),h=tr(p),_()[0]<0?(M=Ue(M),h=Ue(h),o(Ja,Qa)):o(Ze,Xe),u}return u.base=function(r){return arguments.length?(p=+r,C()):p},u.domain=function(r){return arguments.length?(_(r),C()):_()},u.ticks=r=>{const $=_();let g=$[0],z=$[$.length-1];const v=z<g;v&&([g,z]=[z,g]);let k=M(g),K=M(z),O,R;const ht=r==null?10:+r;let J=[];if(!(p%1)&&K-k<ht){if(k=Math.floor(k),K=Math.ceil(K),g>0){for(;k<=K;++k)for(O=1;O<p;++O)if(R=k<0?O/h(-k):O*h(k),!(R<g)){if(R>z)break;J.push(R)}}else for(;k<=K;++k)for(O=p-1;O>=1;--O)if(R=k>0?O/h(-k):O*h(k),!(R<g)){if(R>z)break;J.push(R)}J.length*2<ht&&(J=Ne(g,z,ht))}else J=Ne(k,K,Math.min(K-k,ht)).map(h);return v?J.reverse():J},u.tickFormat=(r,$)=>{if(r==null&&(r=10),$==null&&($=p===10?"s":","),typeof $!="function"&&(!(p%1)&&($=La($)).precision==null&&($.trim=!0),$=Pa($)),r===1/0)return $;const g=Math.max(1,p*r/u.ticks().length);return z=>{let v=z/h(Math.round(M(z)));return v*p<p-.5&&(v*=p),v<=g?$(z):""}},u.nice=()=>_(qa(_(),{floor:r=>h(Math.floor(M(r))),ceil:r=>h(Math.ceil(M(r)))})),u}function ge(){const o=ar(Ma()).domain([1,10]);return o.copy=()=>ka(o,ge()).base(o.base()),Aa.apply(o,arguments),o}function rr(){var o=0,u=1,_,p,M,h,C=Qe,r=!1,$;function g(v){return v==null||isNaN(v=+v)?$:C(M===0?.5:(v=(h(v)-_)*M,r?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([o,u]=v,_=h(o=+o),p=h(u=+u),M=_===p?0:1/(p-_),g):[o,u]},g.clamp=function(v){return arguments.length?(r=!!v,g):r},g.interpolator=function(v){return arguments.length?(C=v,g):C};function z(v){return function(k){var K,O;return arguments.length?([K,O]=k,C=v(K,O),g):[C(0),C(1)]}}return g.range=z(Je),g.rangeRound=z(za),g.unknown=function(v){return arguments.length?($=v,g):$},function(v){return h=v,_=v(o),p=v(u),M=_===p?0:1/(p-_),g}}function or(o,u){return u.domain(o.domain()).interpolator(o.interpolator()).clamp(o.clamp()).unknown(o.unknown())}function oa(){var o=Sa(rr()(Qe));return o.copy=function(){return or(o,oa())},Ca.apply(o,arguments)}async function nr({fetch:o}){const u="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/migracion-interna/migracion_comunas.json",_="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/migracion-interna/migracion_neta_regiones.json";try{const p=await o(u);if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const M=await p.json(),h=await o(_);if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const C=await h.json(),r=[.1,5],$=It(M.links===void 0?[]:[Gt(M.links,k=>k.value),5e3],r).clamp(!0);M.links.forEach(k=>{k.color=_a,k.opacity=.2,k.strokeWidth=$(k.value)});const g=M.nodes.children.flatMap(k=>k.children),z=de(g,k=>k.net);return{data:{comunas:M,regiones:C},rExtent:z}}catch(p){return console.error("Error en load():",p),{data:{comunas:[],regiones:[]},rExtent:[]}}}const Nr=Object.freeze(Object.defineProperty({__proto__:null,load:nr},Symbol.toStringTag,{value:"Module"}));var sr=ot("<text> </text>");function Kt(o,u){ta(u,!1);const[_,p]=ra(),M=()=>ue(z,"$xScale",_),h=()=>ue(v,"$yScale",_),C=d(),r=d(),$=d(),{data:g,xScale:z,yScale:v,width:k,height:K}=Ea("LayerCake");let O=Bt(u,"x",8,0),R=Bt(u,"y",8,0),ht=Bt(u,"text",8,""),J=Bt(u,"fill",8,"#000"),nt=Bt(u,"textAnchor",8,"middle"),bt=Bt(u,"rotAngle",8,0);Bt(u,"translate",8,""),c(()=>(M(),Et(O())),()=>{l(C,M()(O()))}),c(()=>(h(),Et(R())),()=>{l(r,h()(R()))}),c(()=>(Et(bt()),t(C),t(r)),()=>{l($,`rotate(${bt()} ${t(C)} ${t(r)})`)}),ea(),Ke();var E=sr(),at=H(E,!0);P(E),et(()=>{e(E,"x",t(C)),e(E,"y",t(r)),e(E,"fill",J()),e(E,"text-anchor",nt()),e(E,"transform",t($)),mt(at,ht())}),L(o,E),aa(),p()}var ir=Nt("<!> <!> <!> <!> <!> <!> <!> <!>",1),lr=Nt('<div class="chart-container svelte-1crmslw"><!></div>'),cr=ot("<text><tspan> </tspan> <tspan> </tspan></text>"),dr=ot("<text><tspan> </tspan> <tspan> </tspan></text>"),ur=ot('<line fill="none"></line><!><!>',1),gr=Nt("<div><svg><g></g><text> </text><text> </text></svg></div>"),fr=ot("<path></path>"),pr=ot("<path></path>"),mr=ot('<g fill="none"></g><g fill="none"></g>',1),hr=ot('<circle class="svelte-1crmslw"></circle>'),vr=ot("<g></g>"),xr=ot("<g></g>"),_r=Nt('<div><svg class="svelte-1crmslw"><g><text> </text><text> </text></g><!><!></svg></div>'),$r=ot("<rect></rect>"),yr=ot("<text> </text>"),br=ot("<text> </text>"),wr=Nt('<div class="grid-container svelte-1crmslw"><svg><!><!><!><g><path fill="none"></path></g><g><path fill="none"></path><path fill="none"></path></g><g><linearGradient id="gradient" spreadMethod="pad"><stop></stop><stop></stop><stop></stop><stop></stop><stop></stop></linearGradient><rect></rect><text></text><text></text><text></text><text></text><text></text><text></text></g></svg> <div class="note-text svelte-1crmslw"></div> <div class="note-text svelte-1crmslw"></div></div>'),Mr=Nt("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function jr(o,u){ta(u,!1);const[_,p]=ra(),M=()=>ue(ya,"$page",_),h=d(),C=d(),r=d(),$=d(),g=d(),z=d(),v=d(),k=d(),K=d(),O=d(),R=d(),ht=d(),J=d(),nt=d(),bt=d(),E=d(),at=d(),ct=d(),te=d(),ee=d(),fe=d(),pe=d(),jt=d(),me=d(),he=d(),xt=d(),ae=d(),re=d(),Ft=d(),ve=d(),Vt=d(),vt=d(),na=d(),sa=d(),y=d(),wt=d(),j=d(),dt=d(),T=d(),b=d(),oe=d(),_t=d(),Dt=d(),qt=d(),ia=d(),Rt=d(),$t=d(),ut=d(),la="1fMX5PRdS_32IBe-nZGkmuuzx0ObPJY1ORLDuBr8RHIQ",xe=M().data.posts.filter(a=>a.gDocId===la)[0],Y=xe.content;let Mt=Bt(u,"data",8);const ne=60,ca=[2,15],da=a=>Ta().size([t(g)-2,t($)-2]).radius(n=>t(K)(n.value)).padding(3)(Ga(a).sum(n=>n.net).sort((n,s)=>s.net-n.net)),ua=[1,1],ga=[.1,.1],fa=["in","out"],se=Ba().domain(fa).range([le,ce]),_e=2e3,pa=Ua(["#007A82","#6EAEB3","#FAF5ED","#B87D8D","#B8264F"]),ma=oa().interpolator(pa).domain([-_e,_e]).clamp(!0),$e=a=>a.startsWith("Libertador")?"O'Higgins":a.startsWith("Metropolitana")||a.startsWith("Aysén")||a.startsWith("Magallanes")?a.split(" ")[0]:a,Ot={top:50,bottom:20};c(()=>{},()=>{l(h,0)}),c(()=>{},()=>{l(C,0)}),c(()=>(t(C),t(h)),()=>{l(r,t(C)>t(h))}),c(()=>(t(r),t(h)),()=>{l($,t(r)?.8*t(h):600)}),c(()=>(t(r),t(h)),()=>{l(g,t(r)?.8*1e3*t(h)/450:1e3)}),c(()=>Et(Mt()),()=>{var a,n;l(z,(n=(a=Mt())==null?void 0:a.data)==null?void 0:n.comunas.nodes)}),c(()=>Et(Mt()),()=>{var a,n;l(v,(n=(a=Mt())==null?void 0:a.data)==null?void 0:n.comunas.links)}),c(()=>Et(Mt()),()=>{var a;l(k,(a=Mt())==null?void 0:a.rExtent)}),c(()=>t(k),()=>{l(K,Za(t(k),ca))}),c(()=>t(z),()=>{l(O,t(z)===void 0?[]:da(t(z)))}),c(()=>t(O),()=>{l(R,t(O).length===0?[]:t(O).descendants().filter(a=>a.height==1))}),c(()=>(t(R),t(g),Ve),()=>{l(ht,t(R).length===0?t(g)/16:Ve(t(R),a=>a.r*2+ne))}),c(()=>t($),()=>{l(J,t($)/2)}),c(()=>(t(ht),t(g)),()=>{l(nt,It().domain([0,t(ht)]).range([0,t(g)]))}),c(()=>(t(R),t(g)),()=>{var a;l(bt,Xa(t(R).length===0?[]:(a=t(R))==null?void 0:a.map(n=>n.data.name),[ne,t(g)-ne]).padding(.5))}),c(()=>t(R),()=>{l(E,t(R).flatMap(a=>a.children))}),c(()=>(t(E),t(bt),t(nt)),()=>{var a;l(at,new Map(t(E)===void 0?[]:(a=t(E))==null?void 0:a.map(n=>[n.data.name,t(bt)(n.parent.data.name)+t(nt)(n.x-n.parent.x)])))}),c(()=>(t(E),t(J),t(nt)),()=>{var a;l(ct,new Map(t(E)===void 0?[]:(a=t(E))==null?void 0:a.map(n=>[n.data.name,t(J)+t(nt)(n.y-n.parent.y)])))}),c(()=>(t(v),Gt),()=>{l(te,It(t(v)===void 0?[]:[Gt(t(v),a=>a.value),5e3],[1,ua[1]]).clamp(!0))}),c(()=>(t(v),Gt),()=>{l(ee,It(t(v)===void 0?[]:[Gt(t(v),a=>a.value),5e3],ga))}),c(()=>(t(r),t(ct),t(at)),()=>{l(fe,a=>{const n=t(r)?t(ct).get(a.source):t(at).get(a.source),s=t(r)?t(ct).get(a.target):t(at).get(a.target),m=t(r)?t(at).get(a.source):t(ct).get(a.source),W=t(r)?t(at).get(a.target):t(ct).get(a.target),w=Math.abs(s-n)/2;return`M${n},${m}A${w},${t(r)?3/2*w:2/3*w} 0,0,1 ${s},${W}`})}),c(()=>(t(r),t(ct),t(at)),()=>{l(pe,a=>{const n=t(r)?t(ct).get(a.source):t(at).get(a.source),s=t(r)?t(ct).get(a.target):t(at).get(a.target),m=t(r)?t(at).get(a.source):t(ct).get(a.source),W=t(r)?t(at).get(a.target):t(ct).get(a.target),w=Math.abs(s-n)/2;return`M${s},${W}A${w},${t(r)?3/2*w:2/3*w} 0,0,0 ${n},${m}`})}),c(()=>(t(v),t(ee),t(te)),()=>{var a;l(jt,(a=t(v))==null?void 0:a.filter(n=>n.value>20).map(n=>({...n,color:n.direction==="south"?ba:wa,opacity:t(ee)(n.value),strokeWidth:t(te)(n.value)})))}),c(()=>t(jt),()=>{var a;l(me,(a=t(jt))==null?void 0:a.filter(n=>n.direction==="south"))}),c(()=>t(jt),()=>{var a;l(he,(a=t(jt))==null?void 0:a.filter(n=>n.direction==="north"))}),c(()=>t(z),()=>{var a;l(xt,(a=t(z))==null?void 0:a.children.flatMap(n=>n.children))}),c(()=>(t(xt),Gt),()=>{l(ae,t(xt)===void 0?0:Gt(t(xt),a=>Math.min(a.from,a.to)))}),c(()=>(t(xt),Ye),()=>{l(re,t(xt)===void 0?10:Ye(t(xt),a=>Math.max(a.from,a.to)))}),c(()=>(t(ae),t(re)),()=>{l(Ft,[t(ae),t(re)])}),c(()=>t(Ft),()=>{l(ve,t(Ft).map(a=>({from:a,to:a})))}),c(()=>Et(Mt()),()=>{var a,n;l(Vt,(n=(a=Mt())==null?void 0:a.data)==null?void 0:n.regiones)}),c(()=>t(Vt),()=>{l(vt,Ya([...t(Vt).map(a=>a.source),...t(Vt).map(a=>a.target)]))}),c(()=>t(vt),()=>{var a;l(na,new Map((a=t(vt))==null?void 0:a.map((n,s)=>[n,s])))}),c(()=>{},()=>{l(sa,10)}),c(()=>t(r),()=>{l(y,t(r)?{left:10,top:50,right:70,bottom:30}:{left:100,top:100,right:120,bottom:60})}),c(()=>t(r),()=>{l(wt,t(r)?15:25)}),c(()=>(t(r),t(h)),()=>{l(j,t(r)?t(h)*.8:660)}),c(()=>(t(r),t(h)),()=>{l(dt,t(r)?t(h)*.8:700)}),c(()=>(t(vt),t(y),t(dt)),()=>{l(T,Qt().domain(t(vt)).rangeRound([t(y).left,t(dt)-t(y).right]).paddingInner(.05))}),c(()=>(t(vt),t(y),t(j)),()=>{l(b,Qt().domain(t(vt)).rangeRound([t(y).top,t(j)-t(y).bottom]).paddingInner(.05))}),c(()=>t(r),()=>{l(oe,t(r)?4:10)}),c(()=>t(E),()=>{l(_t,t(E)===void 0?[]:t(E).map(a=>({...a.data})).sort((a,n)=>n.latitud-a.latitud))}),c(()=>(t(r),t(C)),()=>{l(Dt,t(r)?t(C):470)}),c(()=>(t(r),t(h),t(g)),()=>{l(qt,t(r)?t(h):t(g))}),c(()=>(t(E),t(_t)),()=>{l(ia,t(E)===void 0?[0,1]:de(t(_t).filter(a=>a.latitud!==-75),a=>a.latitud))}),c(()=>(t(E),t(_t)),()=>{l(Rt,t(E)===void 0?[0,1]:de(t(_t),a=>a.delta))}),c(()=>(t(r),t(_t),t(Dt),t(qt)),()=>{l($t,t(r)?Qt().domain(t(_t).map(a=>a.latitud)).range([Ot.top,t(Dt)-Ot.bottom]).paddingInner(0):Qt().domain(t(_t).map(a=>a.latitud)).range([0,t(qt)]).paddingInner(0))}),c(()=>(t(r),t(Rt),t(qt),t(Dt)),()=>{l(ut,t(r)?It().domain(t(Rt)).range([0,t(qt)]):It().domain(t(Rt)).range([t(Dt)-Ot.bottom,Ot.top]))}),ea(),Ke();var ye=Mr(),be=U(ye);Fa(be,{get head(){return Y.head},view:"article"});var we=i(be,2);zt(we,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph1.text,!1,!1),L(a,s)},$$slots:{default:!0}});var Me=i(we,2);zt(Me,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph2.text,!1,!1),L(a,s)},$$slots:{default:!0}});var ke=i(Me,2);Jt(ke,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph2.chartTitle,!1,!1),L(a,s)},$$slots:{default:!0}});var Ae=i(ke,2);Xt(Ae,{class:"row-interactive",children:(a,n)=>{Fe(a,{children:(s,m)=>{var W=lr(),w=H(W);const kt=q(ge),I=q(ge);Ra(w,{x:"from",y:"to",get xScale(){return t(kt)},get yScale(){return t(I)},get xDomain(){return t(Ft)},get yDomain(){return t(Ft)},get flatData(){return t(xt)},children:(At,gt)=>{Oa(At,{children:(A,yt)=>{var F=ir(),Z=U(F);Wa(Z,{ticks:[10,100,1e3,1e4,1e5]});var tt=i(Z,2);Ia(tt,{ticks:[10,100,1e3,1e4,1e5]});var V=i(tt,2);const Q=q(()=>t(r)?1:2);Kt(V,{get x(){return t(Q)},y:1e3,text:"Población que llega a la comuna",fill:"black",textAnchor:"middle",rotAngle:-90});var B=i(V,2);const x=q(()=>t(r)?1:2);Kt(B,{x:1e3,get y(){return t(x)},text:"Población que sale de la comuna",fill:"black",textAnchor:"middle"});var f=i(B,2);const D=q(()=>t(r)?.5:.8),G=q(()=>t(h)<768?3:5);Na(f,{get scatterData(){return t(xt)},fill:ft=>se(ft.direction),stroke:ft=>se(ft.direction),opacity:.3,get strokeOpacity(){return t(D)},strokeWidth:1,get r(){return t(G)}});var X=i(f,2);ja(X,{get lineData(){return t(ve)},stroke:"black",style:"opacity: 0.4; stroke-width: 1px; stroke-dasharray: 6 4;"});var N=i(X,2);Kt(N,{x:10,y:6e4,text:"Población aumenta ↑",fill:le,textAnchor:"begin"});var rt=i(N,2);Kt(rt,{x:1e5,y:12,text:"Población disminuye ↓",fill:ce,textAnchor:"end"}),L(A,F)},$$slots:{default:!0}})},$$slots:{default:!0}}),P(W),L(s,W)},$$slots:{default:!0}})},$$slots:{default:!0}});var Le=i(Ae,2);zt(Le,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph3.text,!1,!1),L(a,s)},$$slots:{default:!0}});var Pe=i(Le,2);Jt(Pe,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph3.chartTitle,!1,!1),L(a,s)},$$slots:{default:!0}});var Se=i(Pe,2);Xt(Se,{children:(a,n)=>{var s=gr(),m=H(s);e(m,"width","100%"),e(m,"height","auto"),e(m,"margin","0 auto");var W=H(m);St(W,5,()=>t(_t),Ct,(gt,A)=>{var yt=ur(),F=U(yt);e(F,"stroke-width",2),e(F,"opacity",.7);var Z=i(F);{var tt=B=>{var x=cr();e(x,"fill",ce),e(x,"font-size",14),e(x,"text-anchor","begin");var f=H(x);e(f,"dy",0),e(f,"font-weight",700);var D=H(f,!0);P(f);var G=i(f,2);e(G,"dy",14),e(G,"font-size",12);var X=H(G,!0);P(G),P(x),et((N,rt)=>{e(x,"x",N),e(x,"y",rt),e(f,"x",N),mt(D,t(A).name),e(G,"x",N),mt(X,`Perdió ${t(A).net}`)},[()=>t(r)?t(ut)(t(A).delta):t($t)(t(A).latitud)+4,()=>t(r)?t($t)(t(A).latitud)-22:t(ut)(t(A).delta)-16],q),L(B,x)};Ut(Z,B=>{t(A).delta===t(Rt)[0]&&B(tt)})}var V=i(Z);{var Q=B=>{var x=dr();e(x,"fill",le),e(x,"font-size",14),e(x,"text-anchor","end");var f=H(x);e(f,"dy",0),e(f,"font-weight",700);var D=H(f,!0);P(f);var G=i(f,2);e(G,"dy",14),e(G,"font-size",12);var X=H(G,!0);P(G),P(x),et((N,rt)=>{e(x,"x",N),e(x,"y",rt),e(f,"x",N),mt(D,t(A).name),e(G,"x",N),mt(X,`Ganó ${t(A).net}`)},[()=>t(r)?t(ut)(t(A).delta):t($t)(t(A).latitud)-4,()=>t(r)?t($t)(t(A).latitud)-22:t(ut)(t(A).delta)+10],q),L(B,x)};Ut(V,B=>{t(A).delta===t(Rt)[1]&&B(Q)})}et((B,x,f,D,G)=>{e(F,"x1",B),e(F,"x2",x),e(F,"y1",f),e(F,"y2",D),e(F,"stroke",G)},[()=>t(r)?t(ut)(0):t($t)(t(A).latitud),()=>t(r)?t(ut)(t(A).delta):t($t)(t(A).latitud),()=>t(r)?t($t)(t(A).latitud):t(ut)(0),()=>t(r)?t($t)(t(A).latitud):t(ut)(t(A).delta),()=>se(t(A).direction)],q),L(gt,yt)}),P(W);var w=i(W);e(w,"fill",st),e(w,"font-size",14);var kt=H(w,!0);P(w);var I=i(w);e(I,"fill",st),e(I,"font-size",14);var At=H(I,!0);P(I),P(m),P(s),et((gt,A)=>{e(s,"style",`width: 100%; text-align: center; ${t(r)?"margin-bottom: 40px;":"margin-bottom: 20px;"}`),e(m,"viewBox",`0 0 ${t(qt)??""} ${t(Dt)??""}`),e(w,"x",gt),e(w,"y",Ot.top/2),e(w,"text-anchor",t(r)?"middle":"begin"),mt(kt,`${t(r)?"Norte ↑":"← Norte"}`),e(I,"x",A),e(I,"y",t(r)?t(Dt):Ot.top/2),e(I,"text-anchor",t(r)?"middle":"end"),mt(At,`${t(r)?"Sur ↓":"Sur →"}`)},[()=>t(r)?t(ut)(0):0,()=>t(r)?t(ut)(0):t(g)],q),L(a,s)},$$slots:{default:!0}});var Ce=i(Se,2);zt(Ce,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph4.text,!1,!1),L(a,s)},$$slots:{default:!0}});var ze=i(Ce,2);Jt(ze,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph4.chartTitle,!1,!1),L(a,s)},$$slots:{default:!0}});var Be=i(ze,2);Xt(Be,{children:(a,n)=>{var s=_r();e(s,"style","width: 100%; text-align: center;");var m=H(s);e(m,"margin","0 auto");var W=H(m);e(W,"font-weight",400),e(W,"font-size",14);var w=H(W);e(w,"fill",st),e(w,"font-size",14);var kt=H(w,!0);P(w);var I=i(w);e(I,"fill",st),e(I,"font-size",14);var At=H(I,!0);P(I),P(W);var gt=i(W);{var A=Z=>{var tt=mr(),V=U(tt);St(V,5,()=>t(me),Ct,(B,x)=>{var f=fr();et(D=>{e(f,"d",D),e(f,"stroke-width",t(x).strokeWidth),e(f,"stroke-opacity",t(x).opacity),e(f,"stroke",t(x).color)},[()=>t(fe)(t(x))],q),L(B,f)}),P(V);var Q=i(V);St(Q,5,()=>t(he),Ct,(B,x)=>{var f=pr();et(D=>{e(f,"d",D),e(f,"stroke-width",t(x).strokeWidth),e(f,"stroke-opacity",t(x).opacity),e(f,"stroke",t(x).color)},[()=>t(pe)(t(x))],q),L(B,f)}),P(Q),L(Z,tt)};Ut(gt,Z=>{t(v)!==void 0&&Z(A)})}var yt=i(gt);{var F=Z=>{var tt=xr();St(tt,5,()=>t(R),Ct,(V,Q)=>{var B=vr();St(B,5,()=>t(Q).children,Ct,(x,f)=>{var D=hr();e(D,"fill","white"),e(D,"stroke","black"),e(D,"stroke-width",1),e(D,"stroke-opacity",.2),e(D,"fill-opacity",1),et((G,X,N)=>{e(D,"cx",G),e(D,"cy",X),e(D,"r",N)},[()=>t(r)?t(nt)(t(f).y-t(f).parent.y):t(nt)(t(f).x-t(f).parent.x),()=>t(r)?t(nt)(t(f).x-t(f).parent.x):t(nt)(t(f).y-t(f).parent.y),()=>t(nt)(t(f).r)],q),L(x,D)}),P(B),et(x=>e(B,"transform",x),[()=>`translate(${t(r)?t(J):t(bt)(t(Q).data.name)},${t(r)?t(bt)(t(Q).data.name):t(J)})`],q),L(V,B)}),P(tt),L(Z,tt)};Ut(yt,Z=>{t(z)!==void 0&&Z(F)})}P(m),P(s),et(()=>{e(m,"width",t(r)?t($):t(g)),e(m,"height",t(r)?t(g):t($)),e(m,"viewBox",`0 0 ${t(r)?t($):t(g)} ${t(r)?t(g):t($)}`),e(w,"x",t(r)?t($):t(g)*.5),e(w,"y",t(r)?t(g)*.5:t($)*.1),e(w,"text-anchor",t(r)?"end":"middle"),mt(kt,t(r)?"Al sur ↓":"Migración al sur →"),e(I,"x",t(r)?0:t(g)*.5),e(I,"y",t(r)?t(g)*.5:t($)*.9),e(I,"text-anchor",t(r)?"begin":"middle"),mt(At,t(r)?"↑ Al norte":"← Migración al norte")}),L(a,s)},$$slots:{default:!0}});var De=i(Be,2);zt(De,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph5.text,!1,!1),L(a,s)},$$slots:{default:!0}});var He=i(De,2);Jt(He,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph5.chartTitle,!1,!1),L(a,s)},$$slots:{default:!0}});var Te=i(He,2);const ha=q(()=>`${t(r)?"margin-bottom: 40px;":"margin-bottom: 20px;"}`);Xt(Te,{class:"row-interactive",get style(){return t(ha)},children:(a,n)=>{Fe(a,{children:(s,m)=>{var W=wr(),w=H(W);e(w,"margin","0 auto");var kt=H(w);St(kt,1,()=>t(Vt),Ct,(Tt,pt)=>{var S=$r();et((Lt,Pt,Yt,Zt,xa)=>{e(S,"x",Lt),e(S,"y",Pt),e(S,"width",Yt),e(S,"height",Zt),e(S,"fill",xa)},[()=>t(T)(t(pt).target),()=>t(b)(t(pt).source),()=>t(T).bandwidth(),()=>t(b).bandwidth(),()=>ma(t(pt).value)],q),L(Tt,S)});var I=i(kt);St(I,1,()=>t(vt).slice(1),Ct,(Tt,pt)=>{var S=yr();const Lt=q(()=>t(T)(t(pt))+t(T).bandwidth()/2),Pt=q(()=>t(y).top-t(oe));e(S,"fill",st),e(S,"text-anchor","left");var Yt=H(S,!0);P(S),et(Zt=>{e(S,"x",t(Lt)),e(S,"y",t(Pt)),e(S,"font-size",t(r)?8:12),e(S,"transform",`rotate(-45, ${t(Lt)}, ${t(Pt)})`),mt(Yt,Zt)},[()=>$e(t(pt))],q),L(Tt,S)});var At=i(I);St(At,1,()=>t(vt).slice(0,t(vt).length-1),Ct,(Tt,pt)=>{var S=br();const Lt=q(()=>t(oe)+t(dt)-t(y).right),Pt=q(()=>t(b)(t(pt))+t(b).bandwidth()/2+4);e(S,"fill",st),e(S,"text-anchor","left");var Yt=H(S,!0);P(S),et(Zt=>{e(S,"x",t(Lt)),e(S,"y",t(Pt)),e(S,"font-size",t(r)?8:12),mt(Yt,Zt)},[()=>$e(t(pt))],q),L(Tt,S)});var gt=i(At),A=H(gt);e(A,"stroke","black"),P(gt);var yt=i(gt),F=H(yt);e(F,"stroke","black");var Z=i(F);e(Z,"stroke","black"),P(yt);var tt=i(yt),V=H(tt);e(V,"x1","0%"),e(V,"y1","100%"),e(V,"x2","100%"),e(V,"y2","100%");var Q=H(V);e(Q,"offset","0%"),e(Q,"stop-color","#B8264F"),e(Q,"stop-opacity",1);var B=i(Q);e(B,"offset","25%"),e(B,"stop-color","#B87D8D"),e(B,"stop-opacity",1);var x=i(B);e(x,"offset","50%"),e(x,"stop-color","#FAF5ED"),e(x,"stop-opacity",1);var f=i(x);e(f,"offset","75%"),e(f,"stop-color","#6EAEB3"),e(f,"stop-opacity",1);var D=i(f);e(D,"offset","100%"),e(D,"stop-color","#007A82"),e(D,"stop-opacity",1),P(V);var G=i(V);e(G,"fill","url(#gradient)");var X=i(G);e(X,"fill",st),X.textContent="2000 o más";var N=i(X);e(N,"fill",st),N.textContent="2000 o más";var rt=i(N);e(rt,"fill",st),e(rt,"text-anchor","middle"),rt.textContent="0";var ft=i(rt);e(ft,"fill",st),e(ft,"text-anchor","middle"),ft.textContent="Migración neta entre regiones";var Ht=i(ft);e(Ht,"fill",st),e(Ht,"text-anchor","begin"),Ht.textContent="← Al norte";var Wt=i(Ht);e(Wt,"fill",st),e(Wt,"text-anchor","end"),Wt.textContent="Al sur →",P(tt),P(w);var ie=i(w,2);ie.textContent="Tanto Tarapaca como Antofagasta presentan una fuerte migración hacia el sur a las regiones de Coquimbo, Valparaíso y Metropolitana";var Ie=i(ie,2);Ie.textContent="Mientras que la región Metropolitana muestra migración al norte (Coquimbo y Valparaíso) y a todas las regiones al sur, principalmente hasta Los Lagos.",P(W),et((Tt,pt,S,Lt,Pt)=>{e(w,"width",t(dt)),e(w,"height",t(j)),e(w,"viewBox",`0 0 ${t(dt)??""} ${t(j)??""}`),e(A,"d",Tt),e(A,"stroke-width",t(r)?1:2),e(F,"d",pt),e(F,"stroke-width",t(r)?1:2),e(Z,"d",S),e(Z,"stroke-width",t(r)?1:2),e(G,"x",t(y).left),e(G,"y",t(j)-t(y).bottom),e(G,"width",t(dt)-t(y).left-t(y).right),e(G,"height",t(wt)),e(X,"x",t(y).left),e(X,"y",t(r)?t(j)-t(y).bottom+t(wt)+10:t(j)-t(y).bottom+t(wt)+16),e(X,"font-size",t(r)?8:12),e(X,"text-anchor",t(r)?"begin":"middle"),e(N,"x",t(dt)-t(y).right),e(N,"y",t(r)?t(j)-t(y).bottom+t(wt)+10:t(j)-t(y).bottom+t(wt)+16),e(N,"font-size",t(r)?8:12),e(N,"text-anchor",t(r)?"end":"middle"),e(rt,"x",t(y).left+(t(dt)-t(y).right-t(y).left)/2),e(rt,"y",t(r)?t(j)-t(y).bottom+t(wt)+10:t(j)-t(y).bottom+t(wt)+16),e(rt,"font-size",t(r)?8:12),e(ft,"x",t(y).left+(t(dt)-t(y).right-t(y).left)/2),e(ft,"y",t(r)?t(j)-t(y).bottom-4:t(j)-t(y).bottom-12),e(ft,"font-size",t(r)?8:12),e(Ht,"x",t(y).left),e(Ht,"y",t(r)?t(j)-t(y).bottom-4:t(j)-t(y).bottom-12),e(Ht,"font-size",t(r)?8:12),e(Wt,"x",t(dt)-t(y).right),e(Wt,"y",t(r)?t(j)-t(y).bottom-4:t(j)-t(y).bottom-12),e(Wt,"font-size",t(r)?8:12),e(ie,"style",Lt),e(Ie,"style",Pt)},[()=>`M ${t(T)("Coquimbo")} ${t(b)("Tarapacá")} 
                        L ${t(T)("Libertador General Bernardo O'Higgins")} ${t(b)("Tarapacá")} 
                        L ${t(T)("Libertador General Bernardo O'Higgins")} ${t(b)("Atacama")-t(b).step()+t(b).bandwidth()} 
                        L ${t(T)("Coquimbo")} ${t(b)("Atacama")-t(b).step()+t(b).bandwidth()} 
                        L ${t(T)("Coquimbo")} ${t(b)("Tarapacá")} 
                        Z`,()=>`M ${t(T)("Metropolitana de Santiago")} ${t(b)("Coquimbo")} 
                        L ${t(T)("Libertador General Bernardo O'Higgins")} ${t(b)("Coquimbo")} 
                        L ${t(T)("Libertador General Bernardo O'Higgins")} ${t(b)("Metropolitana de Santiago")-t(b).step()+t(b).bandwidth()} 
                        L ${t(T)("Metropolitana de Santiago")} ${t(b)("Metropolitana de Santiago")-t(b).step()+t(b).bandwidth()} 
                        L ${t(T)("Metropolitana de Santiago")} ${t(b)("Coquimbo")} 
                        Z`,()=>`M ${t(T)("Libertador General Bernardo O'Higgins")} ${t(b)("Metropolitana de Santiago")} 
                        L ${t(T)("Aysén del General Carlos Ibáñez del Campo")} ${t(b)("Metropolitana de Santiago")} 
                        L ${t(T)("Aysén del General Carlos Ibáñez del Campo")} ${t(b)("Libertador General Bernardo O'Higgins")-t(b).step()+t(b).bandwidth()} 
                        L ${t(T)("Libertador General Bernardo O'Higgins")} ${t(b)("Libertador General Bernardo O'Higgins")-t(b).step()+t(b).bandwidth()} 
                        L ${t(T)("Libertador General Bernardo O'Higgins")} ${t(b)("Metropolitana de Santiago")} 
                        Z`,()=>`top: ${t(b)("Tarapacá")}px; left: ${t(r)?t(T)("Arica y Parinacota")-30:t(T)("Arica y Parinacota")-60}px;`,()=>`top: ${t(r)?t(b)("Maule"):t(b)("Libertador General Bernardo O'Higgins")}px; left: ${t(r)?t(T)("Coquimbo"):t(T)("Antofagasta")}px;`],q),L(s,W)},$$slots:{default:!0}})},$$slots:{default:!0}});var Ge=i(Te,2);zt(Ge,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph6.text,!1,!1),L(a,s)},$$slots:{default:!0}});var Ee=i(Ge,2);zt(Ee,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph6.text2,!1,!1),L(a,s)},$$slots:{default:!0}});var qe=i(Ee,2);zt(qe,{children:(a,n)=>{var s=it(),m=U(s);lt(m,()=>Y.paragraph6.text3,!1,!1),L(a,s)},$$slots:{default:!0}});var Re=i(qe,2);Da(Re,{get route(){return xe.route},get text(){return Y.share.text},get subject(){return Y.share.subject}});var Oe=i(Re,2);$a(Oe,{});var We=i(Oe,2);Ha(We,{get notes(){return Y.notes}});var va=i(We,2);Va(va,{get type(){return Y.head.type}}),je("innerWidth",a=>l(h,a)),je("innerHeight",a=>l(C,a)),L(o,ye),aa(),p()}export{jr as component,Nr as universal};
