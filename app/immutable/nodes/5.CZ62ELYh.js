import{g as ha,s as e,h as le,o as ce,R as Xt,D as va,e as St,p as xa,i as Ct,c as nt,d as _a,m as $a}from"../chunks/Divider.CUx9fuoI.js";import{t as ya,c as ba,i as wa,g as je,h as Ma,f as It,o as ka,S as La,N as Pa}from"../chunks/linear.COizytM2.js";import{m as Gt}from"../chunks/min.D1slsF82.js";import{e as de}from"../chunks/extent.Ccx1MofX.js";import{a as b,n as rt,s as mt,b as jt,c as st,i as Ut}from"../chunks/disclose-version.BZt-CqMr.js";import{i as Je}from"../chunks/legacy.ChyV9QrR.js";import{p as Qe,ai as Aa,l,a as Ke,t as tt,b as ta,c as A,r as w,d as i,o as Et,g as t,m as c,f as X,w as H,s}from"../chunks/index-client.CAcRRAB1.js";import{h as it}from"../chunks/index.BP9Da4V6.js";import{b as Ne}from"../chunks/window.Dy_OPEiQ.js";import{p as Bt,s as ea,a as ge}from"../chunks/props.B-deTbKa.js";import{n as Sa,L as Ca,S as za,A as Ba,a as Da,b as Ha,c as Ta}from"../chunks/Scatter.mt0DUH5F.js";import{C as Fe}from"../chunks/ChartWrapper.BmWilwLQ.js";import{H as Ga}from"../chunks/SectionTitle.DuG1x3Qj.js";import{P as zt}from"../chunks/RelatedContent.svelte_svelte_type_style_lang.ac4G8pTz.js";import{P as Jt,R as Ea}from"../chunks/RelatedContent.DbghhcjA.js";import{a as qa,u as Oa}from"../chunks/utils.BtjziJRB.js";import{p as Wa,s as Ra,m as Ve}from"../chunks/sequential.DvAB1AJR.js";import{s as Ia}from"../chunks/pow.APLsIGFN.js";import{s as Ye}from"../chunks/sum.CB6J5KXz.js";import{p as ja,b as Qt}from"../chunks/band.DMC3H8si.js";import{p as Na,h as Fa}from"../chunks/index.CKcP1auH.js";function Ze(p){return Math.log(p)}function Xe(p){return Math.exp(p)}function Va(p){return-Math.log(-p)}function Ya(p){return-Math.exp(-p)}function Za(p){return isFinite(p)?+("1e"+p):p<0?0:p}function Xa(p){return p===10?Za:p===Math.E?Math.exp:M=>Math.pow(p,M)}function Ua(p){return p===Math.E?Math.log:p===10&&Math.log10||p===2&&Math.log2||(p=Math.log(p),M=>Math.log(M)/p)}function Ue(p){return(M,U)=>-p(-M,U)}function Ja(p){const M=p(Ze,Xe),U=M.domain;let z=10,W,v;function Y(){return W=Ua(z),v=Xa(z),U()[0]<0?(W=Ue(W),v=Ue(v),p(Va,Ya)):p(Ze,Xe),M}return M.base=function(r){return arguments.length?(z=+r,Y()):z},M.domain=function(r){return arguments.length?(U(r),Y()):U()},M.ticks=r=>{const _=U();let x=_[0],B=_[_.length-1];const E=B<x;E&&([x,B]=[B,x]);let $=W(x),lt=W(B),R,T;const ht=r==null?10:+r;let J=[];if(!(z%1)&&lt-$<ht){if($=Math.floor($),lt=Math.ceil(lt),x>0){for(;$<=lt;++$)for(R=1;R<z;++R)if(T=$<0?R/v(-$):R*v($),!(T<x)){if(T>B)break;J.push(T)}}else for(;$<=lt;++$)for(R=z-1;R>=1;--R)if(T=$>0?R/v(-$):R*v($),!(T<x)){if(T>B)break;J.push(T)}J.length*2<ht&&(J=je(x,B,ht))}else J=je($,lt,Math.min(lt-$,ht)).map(v);return E?J.reverse():J},M.tickFormat=(r,_)=>{if(r==null&&(r=10),_==null&&(_=z===10?"s":","),typeof _!="function"&&(!(z%1)&&(_=qa(_)).precision==null&&(_.trim=!0),_=Ma(_)),r===1/0)return _;const x=Math.max(1,z*r/M.ticks().length);return B=>{let E=B/v(Math.round(W(B)));return E*z<z-.5&&(E*=z),E<=x?_(B):""}},M.nice=()=>U(Sa(U(),{floor:r=>v(Math.floor(W(r))),ceil:r=>v(Math.ceil(W(r)))})),M}function pe(){const p=Ja(ya()).domain([1,10]);return p.copy=()=>ba(p,pe()).base(p.base()),wa.apply(p,arguments),p}async function Qa({fetch:p}){const M="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/migracion-interna/migracion_comunas.json",U="https://raw.githubusercontent.com/dataista-studio/datos-abiertos/refs/heads/main/migracion-interna/migracion_neta_regiones.json";try{const z=await p(M);if(!z.ok)throw new Error(`HTTP error! status: ${z.status}`);const W=await z.json(),v=await p(U);if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const Y=await v.json(),r=[.1,5],_=It(W.links===void 0?[]:[Gt(W.links,$=>$.value),5e3],r).clamp(!0);W.links.forEach($=>{$.color=ha,$.opacity=.2,$.strokeWidth=_($.value)});const x=W.nodes.children.flatMap($=>$.children),B=de(x,$=>$.net);return{data:{comunas:W,regiones:Y},rExtent:B}}catch(z){return console.error("Error en load():",z),{data:{comunas:[],regiones:[]},rExtent:[]}}}const Or=Object.freeze(Object.defineProperty({__proto__:null,load:Qa},Symbol.toStringTag,{value:"Module"}));var Ka=rt("<text> </text>");function Kt(p,M){Qe(M,!1);const[U,z]=ea(),W=()=>ge(B,"$xScale",U),v=()=>ge(E,"$yScale",U),Y=c(),r=c(),_=c(),{data:x,xScale:B,yScale:E,width:$,height:lt}=Aa("LayerCake");let R=Bt(M,"x",8,0),T=Bt(M,"y",8,0),ht=Bt(M,"text",8,""),J=Bt(M,"fill",8,"#000"),ot=Bt(M,"textAnchor",8,"middle"),bt=Bt(M,"rotAngle",8,0);Bt(M,"translate",8,""),l(()=>(W(),Et(R())),()=>{i(Y,W()(R()))}),l(()=>(v(),Et(T())),()=>{i(r,v()(T()))}),l(()=>(Et(bt()),t(Y),t(r)),()=>{i(_,`rotate(${bt()} ${t(Y)} ${t(r)})`)}),Ke(),Je();var D=Ka(),et=A(D,!0);w(D),tt(()=>{e(D,"x",t(Y)),e(D,"y",t(r)),e(D,"fill",J()),e(D,"text-anchor",ot()),e(D,"transform",t(_)),mt(et,ht())}),b(p,D),ta(),z()}var tr=jt("<!> <!> <!> <!> <!> <!> <!> <!>",1),er=jt('<div class="chart-container svelte-1crmslw"><!></div>'),ar=rt("<text><tspan> </tspan> <tspan> </tspan></text>"),rr=rt("<text><tspan> </tspan> <tspan> </tspan></text>"),or=rt('<line fill="none"></line><!><!>',1),nr=jt("<div><svg><g></g><text> </text><text> </text></svg></div>"),sr=rt("<path></path>"),ir=rt("<path></path>"),lr=rt('<g fill="none"></g><g fill="none"></g>',1),cr=rt('<circle class="svelte-1crmslw"></circle>'),dr=rt("<g></g>"),gr=rt("<g></g>"),pr=jt('<div><svg class="svelte-1crmslw"><g><text> </text><text> </text></g><!><!></svg></div>'),ur=rt("<rect></rect>"),fr=rt("<text> </text>"),mr=rt("<text> </text>"),hr=jt('<div class="grid-container svelte-1crmslw"><svg><!><!><!><g><path fill="none"></path></g><g><path fill="none"></path><path fill="none"></path></g><g><linearGradient id="gradient" spreadMethod="pad"><stop></stop><stop></stop><stop></stop><stop></stop><stop></stop></linearGradient><rect></rect><text></text><text></text><text></text><text></text><text></text><text></text></g></svg> <div class="note-text svelte-1crmslw"></div> <div class="note-text svelte-1crmslw"></div></div>'),vr=jt("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function Wr(p,M){Qe(M,!1);const[U,z]=ea(),W=()=>ge(xa,"$page",U),v=c(),Y=c(),r=c(),_=c(),x=c(),B=c(),E=c(),$=c(),lt=c(),R=c(),T=c(),ht=c(),J=c(),ot=c(),bt=c(),D=c(),et=c(),ct=c(),te=c(),ee=c(),ue=c(),fe=c(),Nt=c(),me=c(),he=c(),xt=c(),ae=c(),re=c(),Ft=c(),ve=c(),Vt=c(),vt=c(),aa=c(),ra=c(),f=c(),wt=c(),I=c(),dt=c(),S=c(),m=c(),oe=c(),_t=c(),Dt=c(),qt=c(),oa=c(),Ot=c(),$t=c(),gt=c(),na="1fMX5PRdS_32IBe-nZGkmuuzx0ObPJY1ORLDuBr8RHIQ",xe=W().data.posts.filter(a=>a.gDocId===na)[0],F=xe.content;let Mt=Bt(M,"data",8);const ne=60,sa=[2,15],ia=a=>Na().size([t(x)-2,t(_)-2]).radius(o=>t(lt)(o.value)).padding(3)(Fa(a).sum(o=>o.net).sort((o,n)=>n.net-o.net)),la=[1,1],ca=[.1,.1],da=["in","out"],se=ka().domain(da).range([le,ce]),_e=2e3,ga=Wa(["#007A82","#6EAEB3","#FAF5ED","#B87D8D","#B8264F"]),pa=Ra().interpolator(ga).domain([-_e,_e]).clamp(!0),$e=a=>a.startsWith("Libertador")?"O'Higgins":a.startsWith("Metropolitana")||a.startsWith("Aysén")||a.startsWith("Magallanes")?a.split(" ")[0]:a,Wt={top:50,bottom:20};l(()=>{},()=>{i(v,0)}),l(()=>{},()=>{i(Y,0)}),l(()=>(t(Y),t(v)),()=>{i(r,t(Y)>t(v))}),l(()=>(t(r),t(v)),()=>{i(_,t(r)?.8*t(v):600)}),l(()=>(t(r),t(v)),()=>{i(x,t(r)?.8*1e3*t(v)/450:1e3)}),l(()=>Et(Mt()),()=>{var a,o;i(B,(o=(a=Mt())==null?void 0:a.data)==null?void 0:o.comunas.nodes)}),l(()=>Et(Mt()),()=>{var a,o;i(E,(o=(a=Mt())==null?void 0:a.data)==null?void 0:o.comunas.links)}),l(()=>Et(Mt()),()=>{var a;i($,(a=Mt())==null?void 0:a.rExtent)}),l(()=>t($),()=>{i(lt,Ia(t($),sa))}),l(()=>t(B),()=>{i(R,t(B)===void 0?[]:ia(t(B)))}),l(()=>t(R),()=>{i(T,t(R).length===0?[]:t(R).descendants().filter(a=>a.height==1))}),l(()=>(t(T),t(x),Ye),()=>{i(ht,t(T).length===0?t(x)/16:Ye(t(T),a=>a.r*2+ne))}),l(()=>t(_),()=>{i(J,t(_)/2)}),l(()=>(t(ht),t(x)),()=>{i(ot,It().domain([0,t(ht)]).range([0,t(x)]))}),l(()=>(t(T),t(x)),()=>{var a;i(bt,ja(t(T).length===0?[]:(a=t(T))==null?void 0:a.map(o=>o.data.name),[ne,t(x)-ne]).padding(.5))}),l(()=>t(T),()=>{i(D,t(T).flatMap(a=>a.children))}),l(()=>(t(D),t(bt),t(ot)),()=>{var a;i(et,new Map(t(D)===void 0?[]:(a=t(D))==null?void 0:a.map(o=>[o.data.name,t(bt)(o.parent.data.name)+t(ot)(o.x-o.parent.x)])))}),l(()=>(t(D),t(J),t(ot)),()=>{var a;i(ct,new Map(t(D)===void 0?[]:(a=t(D))==null?void 0:a.map(o=>[o.data.name,t(J)+t(ot)(o.y-o.parent.y)])))}),l(()=>(t(E),Gt),()=>{i(te,It(t(E)===void 0?[]:[Gt(t(E),a=>a.value),5e3],[1,la[1]]).clamp(!0))}),l(()=>(t(E),Gt),()=>{i(ee,It(t(E)===void 0?[]:[Gt(t(E),a=>a.value),5e3],ca))}),l(()=>(t(r),t(ct),t(et)),()=>{i(ue,a=>{const o=t(r)?t(ct).get(a.source):t(et).get(a.source),n=t(r)?t(ct).get(a.target):t(et).get(a.target),g=t(r)?t(et).get(a.source):t(ct).get(a.source),G=t(r)?t(et).get(a.target):t(ct).get(a.target),h=Math.abs(n-o)/2;return`M${o},${g}A${h},${t(r)?3/2*h:2/3*h} 0,0,1 ${n},${G}`})}),l(()=>(t(r),t(ct),t(et)),()=>{i(fe,a=>{const o=t(r)?t(ct).get(a.source):t(et).get(a.source),n=t(r)?t(ct).get(a.target):t(et).get(a.target),g=t(r)?t(et).get(a.source):t(ct).get(a.source),G=t(r)?t(et).get(a.target):t(ct).get(a.target),h=Math.abs(n-o)/2;return`M${n},${G}A${h},${t(r)?3/2*h:2/3*h} 0,0,0 ${o},${g}`})}),l(()=>(t(E),t(ee),t(te)),()=>{var a;i(Nt,(a=t(E))==null?void 0:a.filter(o=>o.value>20).map(o=>({...o,color:o.direction==="south"?_a:$a,opacity:t(ee)(o.value),strokeWidth:t(te)(o.value)})))}),l(()=>t(Nt),()=>{var a;i(me,(a=t(Nt))==null?void 0:a.filter(o=>o.direction==="south"))}),l(()=>t(Nt),()=>{var a;i(he,(a=t(Nt))==null?void 0:a.filter(o=>o.direction==="north"))}),l(()=>t(B),()=>{var a;i(xt,(a=t(B))==null?void 0:a.children.flatMap(o=>o.children))}),l(()=>(t(xt),Gt),()=>{i(ae,t(xt)===void 0?0:Gt(t(xt),a=>Math.min(a.from,a.to)))}),l(()=>(t(xt),Ve),()=>{i(re,t(xt)===void 0?10:Ve(t(xt),a=>Math.max(a.from,a.to)))}),l(()=>(t(ae),t(re)),()=>{i(Ft,[t(ae),t(re)])}),l(()=>t(Ft),()=>{i(ve,t(Ft).map(a=>({from:a,to:a})))}),l(()=>Et(Mt()),()=>{var a,o;i(Vt,(o=(a=Mt())==null?void 0:a.data)==null?void 0:o.regiones)}),l(()=>t(Vt),()=>{i(vt,Oa([...t(Vt).map(a=>a.source),...t(Vt).map(a=>a.target)]))}),l(()=>t(vt),()=>{var a;i(aa,new Map((a=t(vt))==null?void 0:a.map((o,n)=>[o,n])))}),l(()=>{},()=>{i(ra,10)}),l(()=>t(r),()=>{i(f,t(r)?{left:10,top:50,right:70,bottom:30}:{left:100,top:100,right:120,bottom:60})}),l(()=>t(r),()=>{i(wt,t(r)?15:25)}),l(()=>(t(r),t(v)),()=>{i(I,t(r)?t(v)*.8:660)}),l(()=>(t(r),t(v)),()=>{i(dt,t(r)?t(v)*.8:700)}),l(()=>(t(vt),t(f),t(dt)),()=>{i(S,Qt().domain(t(vt)).rangeRound([t(f).left,t(dt)-t(f).right]).paddingInner(.05))}),l(()=>(t(vt),t(f),t(I)),()=>{i(m,Qt().domain(t(vt)).rangeRound([t(f).top,t(I)-t(f).bottom]).paddingInner(.05))}),l(()=>t(r),()=>{i(oe,t(r)?4:10)}),l(()=>t(D),()=>{i(_t,t(D)===void 0?[]:t(D).map(a=>({...a.data})).sort((a,o)=>o.latitud-a.latitud))}),l(()=>(t(r),t(Y)),()=>{i(Dt,t(r)?t(Y):470)}),l(()=>(t(r),t(v),t(x)),()=>{i(qt,t(r)?t(v):t(x))}),l(()=>(t(D),t(_t)),()=>{i(oa,t(D)===void 0?[0,1]:de(t(_t).filter(a=>a.latitud!==-75),a=>a.latitud))}),l(()=>(t(D),t(_t)),()=>{i(Ot,t(D)===void 0?[0,1]:de(t(_t),a=>a.delta))}),l(()=>(t(r),t(_t),t(Dt),t(qt)),()=>{i($t,t(r)?Qt().domain(t(_t).map(a=>a.latitud)).range([Wt.top,t(Dt)-Wt.bottom]).paddingInner(0):Qt().domain(t(_t).map(a=>a.latitud)).range([0,t(qt)]).paddingInner(0))}),l(()=>(t(r),t(Ot),t(qt),t(Dt)),()=>{i(gt,t(r)?It().domain(t(Ot)).range([0,t(qt)]):It().domain(t(Ot)).range([t(Dt)-Wt.bottom,Wt.top]))}),Ke(),Je();var ye=vr(),be=X(ye);Ga(be,{get head(){return F.head},view:"article"});var we=s(be,2);zt(we,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph1.text,!1,!1),b(a,n)},$$slots:{default:!0}});var Me=s(we,2);zt(Me,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph2.text,!1,!1),b(a,n)},$$slots:{default:!0}});var ke=s(Me,2);Jt(ke,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph2.chartTitle,!1,!1),b(a,n)},$$slots:{default:!0}});var Le=s(ke,2);Xt(Le,{class:"row-interactive",children:(a,o)=>{Fe(a,{children:(n,g)=>{var G=er(),h=A(G);const kt=H(pe),q=H(pe);Ca(h,{x:"from",y:"to",get xScale(){return t(kt)},get yScale(){return t(q)},get xDomain(){return t(Ft)},get yDomain(){return t(Ft)},get flatData(){return t(xt)},children:(Lt,pt)=>{za(Lt,{children:(y,yt)=>{var j=tr(),V=X(j);Ba(V,{ticks:[10,100,1e3,1e4,1e5]});var K=s(V,2);Da(K,{ticks:[10,100,1e3,1e4,1e5]});var N=s(K,2);const Q=H(()=>t(r)?1:2);Kt(N,{get x(){return t(Q)},y:1e3,text:"Población que llega a la comuna",fill:"black",textAnchor:"middle",rotAngle:-90});var L=s(N,2);const u=H(()=>t(r)?1:2);Kt(L,{x:1e3,get y(){return t(u)},text:"Población que sale de la comuna",fill:"black",textAnchor:"middle"});var d=s(L,2);const P=H(()=>t(r)?.5:.8),C=H(()=>t(v)<768?3:5);Ha(d,{get scatterData(){return t(xt)},fill:ut=>se(ut.direction),stroke:ut=>se(ut.direction),opacity:.3,get strokeOpacity(){return t(P)},strokeWidth:1,get r(){return t(C)}});var Z=s(d,2);Ta(Z,{get lineData(){return t(ve)},stroke:"black",style:"opacity: 0.4; stroke-width: 1px; stroke-dasharray: 6 4;"});var O=s(Z,2);Kt(O,{x:10,y:6e4,text:"Población aumenta ↑",fill:le,textAnchor:"begin"});var at=s(O,2);Kt(at,{x:1e5,y:12,text:"Población disminuye ↓",fill:ce,textAnchor:"end"}),b(y,j)},$$slots:{default:!0}})},$$slots:{default:!0}}),w(G),b(n,G)},$$slots:{default:!0}})},$$slots:{default:!0}});var Pe=s(Le,2);zt(Pe,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph3.text,!1,!1),b(a,n)},$$slots:{default:!0}});var Ae=s(Pe,2);Jt(Ae,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph3.chartTitle,!1,!1),b(a,n)},$$slots:{default:!0}});var Se=s(Ae,2);Xt(Se,{children:(a,o)=>{var n=nr(),g=A(n);e(g,"width","100%"),e(g,"height","auto"),e(g,"margin","0 auto");var G=A(g);St(G,5,()=>t(_t),Ct,(pt,y)=>{var yt=or(),j=X(yt);e(j,"stroke-width",2),e(j,"opacity",.7);var V=s(j);{var K=L=>{var u=ar();e(u,"fill",ce),e(u,"font-size",14),e(u,"text-anchor","begin");var d=A(u);e(d,"dy",0),e(d,"font-weight",700);var P=A(d,!0);w(d);var C=s(d,2);e(C,"dy",14),e(C,"font-size",12);var Z=A(C,!0);w(C),w(u),tt((O,at)=>{e(u,"x",O),e(u,"y",at),e(d,"x",O),mt(P,t(y).name),e(C,"x",O),mt(Z,`Perdió ${t(y).net}`)},[()=>t(r)?t(gt)(t(y).delta):t($t)(t(y).latitud)+4,()=>t(r)?t($t)(t(y).latitud)-22:t(gt)(t(y).delta)-16],H),b(L,u)};Ut(V,L=>{t(y).delta===t(Ot)[0]&&L(K)})}var N=s(V);{var Q=L=>{var u=rr();e(u,"fill",le),e(u,"font-size",14),e(u,"text-anchor","end");var d=A(u);e(d,"dy",0),e(d,"font-weight",700);var P=A(d,!0);w(d);var C=s(d,2);e(C,"dy",14),e(C,"font-size",12);var Z=A(C,!0);w(C),w(u),tt((O,at)=>{e(u,"x",O),e(u,"y",at),e(d,"x",O),mt(P,t(y).name),e(C,"x",O),mt(Z,`Ganó ${t(y).net}`)},[()=>t(r)?t(gt)(t(y).delta):t($t)(t(y).latitud)-4,()=>t(r)?t($t)(t(y).latitud)-22:t(gt)(t(y).delta)+10],H),b(L,u)};Ut(N,L=>{t(y).delta===t(Ot)[1]&&L(Q)})}tt((L,u,d,P,C)=>{e(j,"x1",L),e(j,"x2",u),e(j,"y1",d),e(j,"y2",P),e(j,"stroke",C)},[()=>t(r)?t(gt)(0):t($t)(t(y).latitud),()=>t(r)?t(gt)(t(y).delta):t($t)(t(y).latitud),()=>t(r)?t($t)(t(y).latitud):t(gt)(0),()=>t(r)?t($t)(t(y).latitud):t(gt)(t(y).delta),()=>se(t(y).direction)],H),b(pt,yt)}),w(G);var h=s(G);e(h,"fill",nt),e(h,"font-size",14);var kt=A(h,!0);w(h);var q=s(h);e(q,"fill",nt),e(q,"font-size",14);var Lt=A(q,!0);w(q),w(g),w(n),tt((pt,y)=>{e(n,"style",`width: 100%; text-align: center; ${t(r)?"margin-bottom: 40px;":"margin-bottom: 20px;"}`),e(g,"viewBox",`0 0 ${t(qt)??""} ${t(Dt)??""}`),e(h,"x",pt),e(h,"y",Wt.top/2),e(h,"text-anchor",t(r)?"middle":"begin"),mt(kt,`${t(r)?"Norte ↑":"← Norte"}`),e(q,"x",y),e(q,"y",t(r)?t(Dt):Wt.top/2),e(q,"text-anchor",t(r)?"middle":"end"),mt(Lt,`${t(r)?"Sur ↓":"Sur →"}`)},[()=>t(r)?t(gt)(0):0,()=>t(r)?t(gt)(0):t(x)],H),b(a,n)},$$slots:{default:!0}});var Ce=s(Se,2);zt(Ce,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph4.text,!1,!1),b(a,n)},$$slots:{default:!0}});var ze=s(Ce,2);Jt(ze,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph4.chartTitle,!1,!1),b(a,n)},$$slots:{default:!0}});var Be=s(ze,2);Xt(Be,{children:(a,o)=>{var n=pr();e(n,"style","width: 100%; text-align: center;");var g=A(n);e(g,"margin","0 auto");var G=A(g);e(G,"font-weight",400),e(G,"font-size",14);var h=A(G);e(h,"fill",nt),e(h,"font-size",14);var kt=A(h,!0);w(h);var q=s(h);e(q,"fill",nt),e(q,"font-size",14);var Lt=A(q,!0);w(q),w(G);var pt=s(G);{var y=V=>{var K=lr(),N=X(K);St(N,5,()=>t(me),Ct,(L,u)=>{var d=sr();tt(P=>{e(d,"d",P),e(d,"stroke-width",t(u).strokeWidth),e(d,"stroke-opacity",t(u).opacity),e(d,"stroke",t(u).color)},[()=>t(ue)(t(u))],H),b(L,d)}),w(N);var Q=s(N);St(Q,5,()=>t(he),Ct,(L,u)=>{var d=ir();tt(P=>{e(d,"d",P),e(d,"stroke-width",t(u).strokeWidth),e(d,"stroke-opacity",t(u).opacity),e(d,"stroke",t(u).color)},[()=>t(fe)(t(u))],H),b(L,d)}),w(Q),b(V,K)};Ut(pt,V=>{t(E)!==void 0&&V(y)})}var yt=s(pt);{var j=V=>{var K=gr();St(K,5,()=>t(T),Ct,(N,Q)=>{var L=dr();St(L,5,()=>t(Q).children,Ct,(u,d)=>{var P=cr();e(P,"fill","white"),e(P,"stroke","black"),e(P,"stroke-width",1),e(P,"stroke-opacity",.2),e(P,"fill-opacity",1),tt((C,Z,O)=>{e(P,"cx",C),e(P,"cy",Z),e(P,"r",O)},[()=>t(r)?t(ot)(t(d).y-t(d).parent.y):t(ot)(t(d).x-t(d).parent.x),()=>t(r)?t(ot)(t(d).x-t(d).parent.x):t(ot)(t(d).y-t(d).parent.y),()=>t(ot)(t(d).r)],H),b(u,P)}),w(L),tt(u=>e(L,"transform",u),[()=>`translate(${t(r)?t(J):t(bt)(t(Q).data.name)},${t(r)?t(bt)(t(Q).data.name):t(J)})`],H),b(N,L)}),w(K),b(V,K)};Ut(yt,V=>{t(B)!==void 0&&V(j)})}w(g),w(n),tt(()=>{e(g,"width",t(r)?t(_):t(x)),e(g,"height",t(r)?t(x):t(_)),e(g,"viewBox",`0 0 ${t(r)?t(_):t(x)} ${t(r)?t(x):t(_)}`),e(h,"x",t(r)?t(_):t(x)*.5),e(h,"y",t(r)?t(x)*.5:t(_)*.1),e(h,"text-anchor",t(r)?"end":"middle"),mt(kt,t(r)?"Al sur ↓":"Migración al sur →"),e(q,"x",t(r)?0:t(x)*.5),e(q,"y",t(r)?t(x)*.5:t(_)*.9),e(q,"text-anchor",t(r)?"begin":"middle"),mt(Lt,t(r)?"↑ Al norte":"← Migración al norte")}),b(a,n)},$$slots:{default:!0}});var De=s(Be,2);zt(De,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph5.text,!1,!1),b(a,n)},$$slots:{default:!0}});var He=s(De,2);Jt(He,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph5.chartTitle,!1,!1),b(a,n)},$$slots:{default:!0}});var Te=s(He,2);const ua=H(()=>`${t(r)?"margin-bottom: 40px;":"margin-bottom: 20px;"}`);Xt(Te,{class:"row-interactive",get style(){return t(ua)},children:(a,o)=>{Fe(a,{children:(n,g)=>{var G=hr(),h=A(G);e(h,"margin","0 auto");var kt=A(h);St(kt,1,()=>t(Vt),Ct,(Tt,ft)=>{var k=ur();tt((Pt,At,Yt,Zt,ma)=>{e(k,"x",Pt),e(k,"y",At),e(k,"width",Yt),e(k,"height",Zt),e(k,"fill",ma)},[()=>t(S)(t(ft).target),()=>t(m)(t(ft).source),()=>t(S).bandwidth(),()=>t(m).bandwidth(),()=>pa(t(ft).value)],H),b(Tt,k)});var q=s(kt);St(q,1,()=>t(vt).slice(1),Ct,(Tt,ft)=>{var k=fr();const Pt=H(()=>t(S)(t(ft))+t(S).bandwidth()/2),At=H(()=>t(f).top-t(oe));e(k,"fill",nt),e(k,"text-anchor","left");var Yt=A(k,!0);w(k),tt(Zt=>{e(k,"x",t(Pt)),e(k,"y",t(At)),e(k,"font-size",t(r)?8:12),e(k,"transform",`rotate(-45, ${t(Pt)}, ${t(At)})`),mt(Yt,Zt)},[()=>$e(t(ft))],H),b(Tt,k)});var Lt=s(q);St(Lt,1,()=>t(vt).slice(0,t(vt).length-1),Ct,(Tt,ft)=>{var k=mr();const Pt=H(()=>t(oe)+t(dt)-t(f).right),At=H(()=>t(m)(t(ft))+t(m).bandwidth()/2+4);e(k,"fill",nt),e(k,"text-anchor","left");var Yt=A(k,!0);w(k),tt(Zt=>{e(k,"x",t(Pt)),e(k,"y",t(At)),e(k,"font-size",t(r)?8:12),mt(Yt,Zt)},[()=>$e(t(ft))],H),b(Tt,k)});var pt=s(Lt),y=A(pt);e(y,"stroke","black"),w(pt);var yt=s(pt),j=A(yt);e(j,"stroke","black");var V=s(j);e(V,"stroke","black"),w(yt);var K=s(yt),N=A(K);e(N,"x1","0%"),e(N,"y1","100%"),e(N,"x2","100%"),e(N,"y2","100%");var Q=A(N);e(Q,"offset","0%"),e(Q,"stop-color","#B8264F"),e(Q,"stop-opacity",1);var L=s(Q);e(L,"offset","25%"),e(L,"stop-color","#B87D8D"),e(L,"stop-opacity",1);var u=s(L);e(u,"offset","50%"),e(u,"stop-color","#FAF5ED"),e(u,"stop-opacity",1);var d=s(u);e(d,"offset","75%"),e(d,"stop-color","#6EAEB3"),e(d,"stop-opacity",1);var P=s(d);e(P,"offset","100%"),e(P,"stop-color","#007A82"),e(P,"stop-opacity",1),w(N);var C=s(N);e(C,"fill","url(#gradient)");var Z=s(C);e(Z,"fill",nt),Z.textContent="2000 o más";var O=s(Z);e(O,"fill",nt),O.textContent="2000 o más";var at=s(O);e(at,"fill",nt),e(at,"text-anchor","middle"),at.textContent="0";var ut=s(at);e(ut,"fill",nt),e(ut,"text-anchor","middle"),ut.textContent="Migración neta entre regiones";var Ht=s(ut);e(Ht,"fill",nt),e(Ht,"text-anchor","begin"),Ht.textContent="← Al norte";var Rt=s(Ht);e(Rt,"fill",nt),e(Rt,"text-anchor","end"),Rt.textContent="Al sur →",w(K),w(h);var ie=s(h,2);ie.textContent="Tanto Tarapaca como Antofagasta presentan una fuerte migración hacia el sur a las regiones de Coquimbo, Valparaíso y Metropolitana";var Ie=s(ie,2);Ie.textContent="Mientras que la región Metropolitana muestra migración al norte (Coquimbo y Valparaíso) y a todas las regiones al sur, principalmente hasta Los Lagos.",w(G),tt((Tt,ft,k,Pt,At)=>{e(h,"width",t(dt)),e(h,"height",t(I)),e(h,"viewBox",`0 0 ${t(dt)??""} ${t(I)??""}`),e(y,"d",Tt),e(y,"stroke-width",t(r)?1:2),e(j,"d",ft),e(j,"stroke-width",t(r)?1:2),e(V,"d",k),e(V,"stroke-width",t(r)?1:2),e(C,"x",t(f).left),e(C,"y",t(I)-t(f).bottom),e(C,"width",t(dt)-t(f).left-t(f).right),e(C,"height",t(wt)),e(Z,"x",t(f).left),e(Z,"y",t(r)?t(I)-t(f).bottom+t(wt)+10:t(I)-t(f).bottom+t(wt)+16),e(Z,"font-size",t(r)?8:12),e(Z,"text-anchor",t(r)?"begin":"middle"),e(O,"x",t(dt)-t(f).right),e(O,"y",t(r)?t(I)-t(f).bottom+t(wt)+10:t(I)-t(f).bottom+t(wt)+16),e(O,"font-size",t(r)?8:12),e(O,"text-anchor",t(r)?"end":"middle"),e(at,"x",t(f).left+(t(dt)-t(f).right-t(f).left)/2),e(at,"y",t(r)?t(I)-t(f).bottom+t(wt)+10:t(I)-t(f).bottom+t(wt)+16),e(at,"font-size",t(r)?8:12),e(ut,"x",t(f).left+(t(dt)-t(f).right-t(f).left)/2),e(ut,"y",t(r)?t(I)-t(f).bottom-4:t(I)-t(f).bottom-12),e(ut,"font-size",t(r)?8:12),e(Ht,"x",t(f).left),e(Ht,"y",t(r)?t(I)-t(f).bottom-4:t(I)-t(f).bottom-12),e(Ht,"font-size",t(r)?8:12),e(Rt,"x",t(dt)-t(f).right),e(Rt,"y",t(r)?t(I)-t(f).bottom-4:t(I)-t(f).bottom-12),e(Rt,"font-size",t(r)?8:12),e(ie,"style",Pt),e(Ie,"style",At)},[()=>`M ${t(S)("Coquimbo")} ${t(m)("Tarapacá")} 
                        L ${t(S)("Libertador General Bernardo O'Higgins")} ${t(m)("Tarapacá")} 
                        L ${t(S)("Libertador General Bernardo O'Higgins")} ${t(m)("Atacama")-t(m).step()+t(m).bandwidth()} 
                        L ${t(S)("Coquimbo")} ${t(m)("Atacama")-t(m).step()+t(m).bandwidth()} 
                        L ${t(S)("Coquimbo")} ${t(m)("Tarapacá")} 
                        Z`,()=>`M ${t(S)("Metropolitana de Santiago")} ${t(m)("Coquimbo")} 
                        L ${t(S)("Libertador General Bernardo O'Higgins")} ${t(m)("Coquimbo")} 
                        L ${t(S)("Libertador General Bernardo O'Higgins")} ${t(m)("Metropolitana de Santiago")-t(m).step()+t(m).bandwidth()} 
                        L ${t(S)("Metropolitana de Santiago")} ${t(m)("Metropolitana de Santiago")-t(m).step()+t(m).bandwidth()} 
                        L ${t(S)("Metropolitana de Santiago")} ${t(m)("Coquimbo")} 
                        Z`,()=>`M ${t(S)("Libertador General Bernardo O'Higgins")} ${t(m)("Metropolitana de Santiago")} 
                        L ${t(S)("Aysén del General Carlos Ibáñez del Campo")} ${t(m)("Metropolitana de Santiago")} 
                        L ${t(S)("Aysén del General Carlos Ibáñez del Campo")} ${t(m)("Libertador General Bernardo O'Higgins")-t(m).step()+t(m).bandwidth()} 
                        L ${t(S)("Libertador General Bernardo O'Higgins")} ${t(m)("Libertador General Bernardo O'Higgins")-t(m).step()+t(m).bandwidth()} 
                        L ${t(S)("Libertador General Bernardo O'Higgins")} ${t(m)("Metropolitana de Santiago")} 
                        Z`,()=>`top: ${t(m)("Tarapacá")}px; left: ${t(r)?t(S)("Arica y Parinacota")-30:t(S)("Arica y Parinacota")-60}px;`,()=>`top: ${t(r)?t(m)("Maule"):t(m)("Libertador General Bernardo O'Higgins")}px; left: ${t(r)?t(S)("Coquimbo"):t(S)("Antofagasta")}px;`],H),b(n,G)},$$slots:{default:!0}})},$$slots:{default:!0}});var Ge=s(Te,2);zt(Ge,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph6.text,!1,!1),b(a,n)},$$slots:{default:!0}});var Ee=s(Ge,2);zt(Ee,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph6.text2,!1,!1),b(a,n)},$$slots:{default:!0}});var qe=s(Ee,2);zt(qe,{children:(a,o)=>{var n=st(),g=X(n);it(g,()=>F.paragraph6.text3,!1,!1),b(a,n)},$$slots:{default:!0}});var Oe=s(qe,2);La(Oe,{get route(){return xe.route},get text(){return F.share.text},get subject(){return F.share.subject}});var We=s(Oe,2);va(We,{});var Re=s(We,2);Pa(Re,{get notes(){return F.notes}});var fa=s(Re,2);Ea(fa,{get type(){return F.head.type}}),Ne("innerWidth",a=>i(v,a)),Ne("innerHeight",a=>i(Y,a)),b(p,ye),ta(),z()}export{Wr as component,Or as universal};
